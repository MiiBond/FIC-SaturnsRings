
<!DOCTYPE html>
<html>
<head>
  <title>Saturn&#x27;s Rings</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <style>
  
    /* Application */
body, html, canvas, #verold3d {
  margin: 0 auto;
  padding: 0;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

body {
  background: #000000;
  /*background-image:url('http://assets.verold.com/production/images/verold-studio-scene-logo.svg');*/
  background-repeat:no-repeat;
  background-attachment:fixed;
  background-position:center;
}

#verold3d {
  display: none;
}

.loading {
  position: absolute;
  font-family: tahoma, sans-serif;
  font-size: 20pt;
  color: #fff;
  left: 40%;
  top: 40%;
  width: 20%;
}

.time {
  position: absolute;
  background-color: rgba(51,51,51,0.8);
  border-radius: 5px;
  border: 3px solid #fff;
  color: #fff;
  
  font-family: tahoma, sans-serif;
  font-size: 10pt;
  width: 15%;
  overflow: hidden;
  padding: 0px 20px;
  right: 40%;
  top: 5%;
  display: none;
}

.posterMainPage {
  position: absolute;
  background-color: rgba(51,51,51,0.8);
  border-radius: 5px;
  border: 3px solid #fff;
  color: #fff;
  
  font-family: tahoma, sans-serif;
  font-size: 12pt;
  width: 15%;
  overflow: hidden;
  padding: 0px 20px;
}

.posterMainPage h1 {
  font-size: 18pt;
  text-shadow: 2px 1px #111;
}

.posterMainPage h2 {
  font-size: 16pt;
}

#posterMainPage {
  right: 5%;
  top: 5%;
  width: 20%;
  bottom: 5%;
  
  overflow-y: auto;
}

.posterMainPage img {
  width: 100%;
  
}

#ResonancesTriggerPanel {
  left: 5%;
  top: 5%;
  height: 30%;
  background: url(http://assets.verold.com/entities/525c57c6e7c503020000034a/f94f91f10289f08ec96bc269abadba5f/P+PResonances2-low.jpg);
  background-size: 100%;
}

#MimasTriggerPanel {
  left: 50%;
  top: 5%;
  height: 30%;
  background: url(http://assets.verold.com/entities/525c57c6e7c503020000034a/6892a71a5044f5c2590353f064b4b56a/Mimas-jpl-nasa-low.jpg) top left no-repeat;
}

#ShepherdTriggerPanel {
  left: 5%;
  bottom: 5%;
  height: 30%;
  background: url(http://assets.verold.com/entities/525c57c6e7c503020000034a/e354887f38e7dd96444e623bdc3fbb93/Shepherds-Wikipedia-low.jpg) top left no-repeat;
  background-size: cover;
}

#EnckeTriggerPanel {
  left: 50%;
  bottom: 5%;
  height: 30%;
  background: url(http://assets.verold.com/entities/525c57c6e7c503020000034a/8723f6912d3f4a4155b5c6ea786871de/Encke_Division-low.jpg);
  background-size: cover;
}



.information {
  position: absolute;
  background-color: rgba(51,51,51,0.8);
  border-radius: 5px;
  border: 3px solid #fff;
  color: #fff;
  font-family: tahoma, sans-serif;
  font-size: 12pt;
  width: 25%;
  height: 30%;
  overflow-y: auto;
  display: none;
  padding: 20px;
}

.imformation h1 {
  font-size: 18pt;
}

.information img {
  width: 100%;
  height: 300px;
}

#BackButton {
  left: 5%;
  top: 5%;
  width: 100px;
  height: 100px;
  overflow: hidden;
}

#BackButton img {
  height: 100%;
  width: 100%;
}

#MimasInformation {
  right: 5%;
  top: 5%;
  height: 80%;
}

#ShepherdInformation {
  right: 5%;
  top: 5%;
  height: 80%;
}

#EnckeInformation {
  right: 5%;
  top: 5%;
  height: 80%;
}

#ResonancesInformation {
  right: 5%;
  top: 5%;
  height: 80%;
}

/*
.trigger {
  position: absolute;
}

#trigger-1 {
  left: 10px;
  top: 30px;
}

#trigger-2 {
  left: 10px;
  top: 50px;
}

#trigger-3 {
  left: 10px;
  top: 80px;
}
*/



/* NProgress */
#nprogress { pointer-events: none; }
#nprogress .bar { background: #009BDF; position: fixed; z-index: 100; top: 0; left: 0; width: 100%; height: 3px; }
#nprogress .peg { display: block; position: absolute; right: 0px; width: 100px; height: 100%; box-shadow: 0 0 10px #009BDF, 0 0 5px #009BDF; opacity: 1.0; -webkit-transform: rotate(3deg) translate(0px, -4px); -ms-transform: rotate(3deg) translate(0px, -4px); transform: rotate(3deg) translate(0px, -4px); }

/* Remove these to get rid of the spinner */
#nprogress .spinner { display: block; position: fixed; z-index: 100; top: 15px; right: 15px; }
#nprogress .spinner-icon { width: 18px; height: 18px; box-sizing: border-box; border: solid 2px transparent; border-top-color: #009BDF; border-left-color: #009BDF; border-radius: 50%; -webkit-animation: nprogress-spinner 400ms linear infinite; animation: nprogress-spinner 400ms linear infinite; }
@-webkit-keyframes nprogress-spinner { 0%   { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); }
@keyframes nprogress-spinner { 0%   { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

  
  </style>
</head>
<body>
  
    <div id="verold3d"></div>

<div class="loading" id="loading">
  <h1>Loading...</h1>
</div>

<div class="time" id="time">
  <h1>Time: ...</h1>
</div>

<a href="#" id="ResonancesTrigger">
<div class="posterMainPage" id="ResonancesTriggerPanel">
  <h1>1. Resonances</h1>
  <!--<img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/a7bb8feed293351776ef5b9633c5e34b/Saturn_A_ring_spiral_density_waves-low.jpg">-->
</div>
</a>

<div class="information" id="ResonancesInformation">
  <h1>Resonances</h1>
  <p>
  Even for a satellite outside of the ring system, where the gravitational acceleration exerted on the ring particles is vanishingly small, clear effects can still be induced in the ring. A satellite can do this through what are called mean-motion orbital resonances. A resonance occurs when the orbital periods of two or more bodies are integer-ratios of each other (e.g. a 3:1 resonance is when one body completes three orbits in exactly the same time as the second completes one). We refer to the portion of the resonance in the longitudinal direction as a "Lindblad" resonance (named after astronomer, Bertil Lindblad, who initially described how these resonances generate spiral density waves inside of galaxies) as opposed to the resonant effects that act perpendicular or radially to the ring plane. Lindblad resonances play the most important role in clearing and confining structure in ring systems (de Pater & Lissauer 2010).
  </p>
  <p>
  The strongest Lindblad resonances occur when the orbital ratio between the two bodies has a difference of 1 (e.g. 2:1, 3:2, 4:3, etc.) (de Pater & Lissauer 2010). These resonances are called â€œfirst-orderâ€ and provide the most coherent forcing because every conjunction occurs at the same location in the orbit of the two bodies. This allows the gravitational disturbance from every encounter to build on each other without being disrupted by forcing in other directions.
  </p>
  <p>
  Ring particles moving past the satellite on an inner orbit (in an "inner Lindblad resonance, or ILR) will give up some of their momentum to the satellite, slowing them down ever-so-slightly and changing the eccentricity of their orbit. Gaps can be cleared in the rings as the particle's new eccentricity brings it into contact with other less perturbed particles in different orbits. Crossing these orbits leads to inevitable collisions which tend to damp out the eccentricities so that the particleâ€™s mean-motion matches the overall flow of the surrounding particles. This can result in a gap at the location of the resonance if the eccentricity-pumping is strong enough to resist the natural viscous spreading of the ring material (Goldreich & Tremaine 1982).
  </p>
  <p>
    In the animation on the left, we can see the orbits of 300 TP's in the outer A Ring, along with the moons Prometheus (<font color="red">red</font>) and Pandora (<font color="green">green</font>). Over the 10 years of the simulation, the TP's at various ILR's with the two moons have their eccentricities subtly changed. The amount of change is highlighted in pink in the animation and can be clearly seen in the following image where simulation results of eccentricity change are overlaid on a photograph of the outer A Ring. Note that the image is from a simulation with many more particles and a slightly different range than the animation show.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/4634add56326823094f5ff852af8cea5/P+P+Close+Resonances+Overlay2-low.jpg">
</div>

<a href="#" id="MimasTrigger">
<div class="posterMainPage" id="MimasTriggerPanel">
  <h1>2. Cassini Division</h1>
  <!--<img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/6892a71a5044f5c2590353f064b4b56a/Mimas-jpl-nasa-low.jpg">-->
</div>
</a>

<div class="information" id="MimasInformation">
  <h1>Mimas and the Cassini Division</h1>
  <p>
    Mimas, the innermost, spherical moon of Saturn, is widely considered to be responsible for clearing the Cassini Division in Saturnâ€™s rings via the 2:1 ILR (Freedman, Geller & Kaufmann 2011) (de Pater & Lissauer 2010) (Goldreich & Tremaine 1979). Because of the resonant forcing of the ring particles at the 2:1 location, the ring particles move inward over time, opening a gap. The Cassini Division is roughly 3.2e-5 AU wide and lies between Saturn's A and B rings.
  </p>
  <p>
    The animation on the left shows the results of simulating 300 TP's and Mimas (show in <font color="red">red</font>) over 20 years with SWIFT. The particles are spread across 3.0e-5 AU (about 4500 km). The change in eccentricity is very small so, in the animation playback, the TP's orbit is highlighted pink relative to the amount of eccentricity change it has undergone. Below is a plot from the SWIFT simulation that clearly shows the change in eccentricity at the 2:1 ILR.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/453e0f9ca30d61edd10b779659a874dc/Mimas2-1-low.jpg">
  <p>
    According to my simulations, Mimas inflicts an average eccentricity change on particles at the 2:1 ILR of 3.0e-4 over 20 years which directly corresponds to these particles crossing orbits at least 2.3e-7 AU away from where they started. So it seems very reasonable to assume that, if viscous forces within the rings were also modelled, we would see the perturbed particles eccentricity get damped and a gap in the ring would open at the 2:1 ILR. The gap would grow ever wider until it was balanced by the viscous pressures within the B Ring. Mimas' role in shaping the edge of the B Ring is quite visible but how important it is in shaping the entire Cassini Division is much less clear. The inner edge of the A Ring, almost 5000 km away, is far outside the immediate gravitational influence of the 2:1 ILR. However, once viscous forces and self-gravitation are considered, the transport of angular momentum via density waves may be able to account for this.
  </p>
</div>

<a href="#" id="ShepherdTrigger">
<div class="posterMainPage" id="ShepherdTriggerPanel">
  <h1>3. Shepherd Moons</h1>
  <!--<img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/e354887f38e7dd96444e623bdc3fbb93/Shepherds-Wikipedia-low.jpg">-->
</div>
</a>

<div class="information" id="ShepherdInformation">
  <h1>Shepherd Information</h1>
  <p>
  The two moons, Prometheus (shown in <font color="red">red</font> in the animation and graph below) and Pandora (shown in <font color="green">green</font>) are thought to be responsible for constraining the narrow F Ring through a gravitational interaction known as the shepherding effect. As Prometheus moves past the ring particles outside its orbit (which are travelling more slowly), it gives up some of its momentum to the particle, speeding it up and boosting it into a slightly higher orbit. It also changes the particle's orbital eccentricity, helping to bring it into contact with other TP orbits. In reality, the particles in the F Ring are exerting an outward pressure due to internal collisions and this is being balanced by the forcing of Prometheus and Pandora. In the simulations conducted, we can clearly see this forcing occurring over relatively short timescales of only 25 years. However, after such a short time, the thickness of the F Ring produced is still several times larger than the actual F Ring.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/dfe7feb24f3bae4917e85a1977bd0eee/Shepherd25years-low.jpg">
  <p>
  Over longer timescales, the F Ring undergoes more forcing by the satellites but, with no internal pressure to balance the forcing in the simulations, the system is unstable and the ring disintegrates. Below is a plot of the system over 150,000 years.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/f588daf23240d8e39d2b20a66ead685c/Shepherd+150000+years-low.jpg">
  <p>
  We can estimate the expected eccentricity perturbation of a TP by a nearby satellite, assuming both are on circular orbits (de Pater & Lissauer 2010). We do this for the actual  locations of the inner and outer F Ring and then use the relationship, a = ( 1 - e ) to derive the expected change in semi-major axis due to the eccentricity perturbation (where a is the semi-major axis and e is the eccentricity). The resulting estimate is about 5.6e-8 AU for the inner edge and 9.2e-9 AU for the outer edge per conjunction. In 5 years, Prometheus undergoes roughly 60 conjunctions with the inner F Ring particles while Pandora undergoes about 140 with the outer F Ring particles. Looking at the results of the simulation, these values seem quite reasonable, considering their applicability only while the TP's maintain a circular orbit.
  </p>
  
</div>

<a href="#" id="EnckeTrigger">
<div class="posterMainPage" id="EnckeTriggerPanel">
  <h1>4. Encke Gap</h1>
  <!--<img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/8723f6912d3f4a4155b5c6ea786871de/Encke_Division-low.jpg">-->
</div>
</a>

<div class="information" id="EnckeInformation">
  <h1>Pan and the Encke Gap/Ringlet</h1>
  <p>
  The final scenario simulated involved the tiny satellite, Pan, embedded inside the Encke Gap. It is thought that Pan cleared the gap itself through the shepherding effect and continues to keep it clear today (Showalter 1991).
  </p>
  <p>
  In the simulation results, we see a gap open up around Pan quite quickly. The actual Encke Gap is 2.2e-6 AU wide (Rings_web) and, in my results, TPâ€™s are most affected by Pan inside a gap of about 5e-6 AU. This seems reasonably consistent since it shows that, neglecting other factors, Pan has at least the sufficient gravitational influence to clear a gap the size of Encke. When viscous spreading is taken into account, I expect that the clearing force would be partially countered by this pressure.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/d512b2b9fb2678ed03d539ae7efb8383/Pan-90+years2-low.jpg">
  <p>
    Several particles in both the shepherding simulations of Pandora and Prometheus as well as the simulations of Pan can be seen maintaining an orbit close to the satellites, despite the tendency for the moons to clear their immediate orbit. These particles have entered a 1:1 resonance with the satellite and their resulting â€œhorseshoeâ€ orbit can be seen. The animation on the left is from a simulation of 300 TP's and Pan (<font color="red">red</font>) inside the Encke Gap. Over the course of 100 years, the particles within about 1.0e-7 AU of Pan maintain their semi-major axis close to Pan while other TP's are cleared (see corresponding graph below). The TP's that remain alternate between orbiting inside and outside of of Pan's orbit and appear stable over long periods of time.
  </p>
  <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/27b3a8d520c64fd28d0ec0abb6f259cf/Encke+Gap+and+Ringlet-low.jpg">
</div>

<!--<a href="#" id="BackButtonTrigger">-->
  <div class="information" id="BackButton">
    <img src="http://assets.verold.com/entities/525c57c6e7c503020000034a/91df66b9fa132c7a278c16a474ecaa15/Left-Arrow-low.png">
  </div>
<!--</a>-->

<div class="posterMainPage" id="posterMainPage">
  <h1>External Gavitational Influences on the Morphology of Saturn's Rings</h1>
  <p>
    BOND, M. D. C., 2013
  </p>
  <h2>Abstract</h2>
  <p>
  The first up-close images of Saturn's rings by passing probes in the late 70's and early 80's revealed astonishingly complex and intricate structure. And although we've learned an enormous amount about the morphology of ring systems in the past three decades, we now have more questions than ever before about their nature and evolution (de Pater & Lissauer 2010). Many factors affect their structure including self gravitation, internal particle collisions, radiation drag (Goldreich & Tremaine 1982) and even the magnetic field of the planet (Mitchell et al, 2007). I investigate several ways in which planetary rings are influenced by the gravity of satellites, both embedded in the ring and external, and find that this gravitational influence alone is enough to form significant structure.
  </p>
  <h2>Method</h2>
  <p>
    Several scenarios were investigated using simulations conducted with the Solar System Dynamics (SSD) simulator. This simulator is based on the SWIFT code (Levison and Duncan 1994) and was run on the Swinburne supercomputer over its web-based interface. The first two scenarios looked at resonances and their ability to form structure in the outer A Ring and, by the satellite Mimas, at the boundary between the Cassini Division and outer B Ring. The third scenario looked at the F Ring and the idea that it is being confined by the satellites Prometheus and Pandora. Finally, the moonlet, Pan, was simulated and its ability to clear the Encke Gap and form the Encke Ringlet was investigated.
  </p>
  <p>
    Compared to the satellites that concern us, the mass of the individual ring particles is negligible and can therefore be considered massless. Additionally, since we are focussing on the external gravitational influences of satellites alone, we neglect self-gravitation of the rings as well as any internal, viscous pressures caused by particle-particle collisions.
  </p>
  <p>
    Simulations of satellites and test particles (TP) around Saturn were run for anywhere between several dozen years down to a few days, depending on what was being studied. The integration time step used was never more than 2e-6 years which corresponds to less than a degree of longitudinal movement for any TP's that we are concerned with.
  </p>
  <p>
    An overview of the results can be found on the left, along with animations of some of the simulations. For the sake of small download sizes, these animations were limited to 100 time steps of data.
  </p>
  <h2>Conclusions</h2>
  <p>
  The effect of external satellite gravity alone is enough to cause dramatic changes to a ring system and induce clear structure. This occurs mainly at first-order Lindblad resonances where eccentricities are excited most significantly. The intricately banded nature of Saturnâ€™s A Ring coincides perfectly with the pattern of first-order ILRâ€™s of Pandora and Prometheus in the performed simulations. The small eccentricity changes are easily enough to cause TPâ€™s to cross the orbits of other TPâ€™s and have their new eccentricity damped by particle-particle collisions so I would theorize that simulating the viscous forces within the ring would be enough to have these resonances open gaps (i.e. without the need of simulating self-gravity in the ring).
  </p>
  <p>
  The ability for moons to clear their own orbits via the shepherding effect was clearly shown as well as the stability of 1:1 resonant horseshoe orbits within the satelliteâ€™s cleared gap. However, to properly make measurements of the confinement of a ring, viscous forces within the ring are required to counter-balance the driving force by the shepherding satellites.
  </p>
  <h2>References</h2>
  <p>
  de Pater, I., Lissauer, J. J., 2010, Planetary Sciences (2nd ed.), United Kingdom, Cambridge University Press
  </p>
  <p>
  Freedman, R. A., Geller, R. M. & Kaufmann III, W. J., 2011, The Universe, (9th ed.), New York, W. H. Freeman and Company
  </p>
  <p>
  Goldreich, P., 1979, The Rings of Saturn and Uranus, IAUS, 81, 191
  </p>
  <p>
  Goldreich, P., Tremaine, S. 1979, The Excitation and of Density Waves at the Lindblad and Corotation Resonances by an External Potential, ApJ, 233, 857
  </p>
  <p>
  Goldreich, P., Tremaine, S. 1982, The Dynamics of Planetary Rings, ARA&A, 20, 249
  </p>
  <p>
  Levison, H., Duncan, M., 1994, Icarus, 108, 18
  </p>
  <p>
  Mitchell, C. J., Horanyi, M., Havnes, O., Porco, C. C. 2006, Saturnâ€™s Spokes: Lost and Found, Science Magazine, 311, 1587
  </p>
  <p>
  Rings_web: Vital Statistics for Saturnâ€™s Rings and Inner Moons, http://pds-rings.seti.org/saturn/saturn_tables.html (accessed Nov. 15)
  </p>
  <p>
  Showalter, M. R. 1991. Visual detection of 1981S13, Saturnâ€™s eighteenth satellite, and its role in the Encke Gap. Nature 351, 709â€“713
  </p>
</div>
  
  <script>
    window.verold = window.verold || {};
    window.verold.apiBaseUrl = '';
    window.verold.assetsBaseUrl = 'http://assets.verold.com';
    window.verold.staticBaseUrl = 'http://assets.verold.com/production';
    window.verold.glAssetsBaseUrl = 'http://assets.verold.com/production/assets';
    window.verold.application = {
      settings: {"engineOptions":{"componentSettings":{"enabled":true,"runtime":true,"editor":false,"persistent":true,"nonPersistent":true}},"startupScene":"525c57c6e7c503020000034d","startupCamera":"525c57c6e7c503020000034e","runtimeVersion":"0.5.0"},
      project: {"id":"525c57c6e7c503020000034a","userId":"4fbe315558a5fb0100000716","featured":false,"privacy":"private","forkable":false,"published":true,"hasModel":true,"title":"Saturn's Rings","description":"","tags":[],"dateCreated":"2013-10-14T20:44:54.707Z","previewImageUrl":"/media/525c57c6e7c503020000034a/70c0f5/d2a0b76b5b2cee963676f4aabd8ae255project-preview-250x250.jpg","largeImageUrl":"/media/525c57c6e7c503020000034a/524ef5/d2a0b76b5b2cee963676f4aabd8ae255project-preview-600x400.jpg","wideScreenImageUrl":"/media/525c57c6e7c503020000034a/813bbe/d2a0b76b5b2cee963676f4aabd8ae255project-preview-1304x646.jpg","originalImageUrl":"/media/525c57c6e7c503020000034a/7b7566/d2a0b76b5b2cee963676f4aabd8ae255project-preview.png","collaborators":[],"renderSettings":{},"media":[{"id":"528d34ab45ec6e020000018e","filename":"blob","previewImageUrl":"/media/525c57c6e7c503020000034a/85f1b3/f6c3abbd79a4d6815d2af17809077fc3project-preview-250x250.jpg","largeImageUrl":"/media/525c57c6e7c503020000034a/5bfa79/f6c3abbd79a4d6815d2af17809077fc3project-preview-600x400.jpg","wideScreenImageUrl":"/media/525c57c6e7c503020000034a/4d790a/f6c3abbd79a4d6815d2af17809077fc3project-preview-1304x646.jpg","originalImageUrl":"/media/525c57c6e7c503020000034a/01eacb/f6c3abbd79a4d6815d2af17809077fc3project-preview.png","dateCreated":"2013-11-20T22:16:11.071Z","attributes":{"writable":true,"mine":true}},{"id":"528fa49220a910020000008a","filename":"blob","previewImageUrl":"/media/525c57c6e7c503020000034a/70c0f5/d2a0b76b5b2cee963676f4aabd8ae255project-preview-250x250.jpg","largeImageUrl":"/media/525c57c6e7c503020000034a/524ef5/d2a0b76b5b2cee963676f4aabd8ae255project-preview-600x400.jpg","wideScreenImageUrl":"/media/525c57c6e7c503020000034a/813bbe/d2a0b76b5b2cee963676f4aabd8ae255project-preview-1304x646.jpg","originalImageUrl":"/media/525c57c6e7c503020000034a/7b7566/d2a0b76b5b2cee963676f4aabd8ae255project-preview.png","dateCreated":"2013-11-22T18:38:10.323Z","attributes":{"writable":true,"mine":true}}],"urls":[],"entityId":"525c57c6e7c503020000034d","counts":{"views":77,"follows":0},"domains":[],"externalResources":[],"runnable":true,"createdBy":{"id":"4fbe315558a5fb0100000716","username":"Michael Bond","avatar":{"16x16":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=16x16&d=retro","20x20":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=20x20&d=retro","32x32":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=32x32&d=retro","37x37":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=37x37&d=retro","40x40":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=40x40&d=retro","60x60":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=60x60&d=retro","200x200":"http://www.gravatar.com/avatar/477553d6fe4ca51cae4391be93d310fa?s=200x200&d=retro"}},"attributes":{"writable":true,"mine":true,"followed":true},"allowApi":true},
      entities: [{"id":"525c57c6e7c503020000034e","v":46,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"camera","name":"App Camera","rootFolder":"525c57c6e7c503020000034a","payload":{"position":{"x":-24.904262595352282,"y":8.454766362564175,"z":72.67806698806739},"orientation":{"x":-0.049988214705816415,"y":-0.24949232990408116,"z":-0.012897290643093905,"w":0.9669996978301626},"fov":50,"type":"PerspectiveCamera","aspect":1.7777777777777777,"near":0.5,"far":20000,"left":-1,"right":1,"top":1,"bottom":-1,"components":{},"scale":{"x":1,"y":1,"z":1}},"state":"PROCESSED","template":false,"children":{}},{"id":"5268638bc44de60200000290","v":0,"parentAssetId":"5268638bc44de60200000290","projectId":"525c57c6e7c503020000034a","type":"script","name":"OrbitControls","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(e,t){var o=e(\"underscore\");var n=1e-6;var i=1800;var s=new t.Vector2;var a=new t.Vector2;var r=new t.Vector2;var h=new t.Vector2;var u=new t.Vector2;var l=new t.Vector2;var m=0;var d=0;var c=1;var f=new t.Vector3;var p={NONE:-1,ROTATE:0,ZOOM:1,PAN:2};var v=p.NONE;function M(){this.ready=false}M.prototype=new VAPI.VeroldComponent;M.prototype.init=function(){this.domElement=this.getRenderer().domElement;this.enabled=this.enabled;this.center=new t.Vector3;this.userZoom=this.userZoom;this.userZoomSpeed=this.userZoomSpeed;this.userRotate=this.userRotate;this.userRotateSpeed=this.userRotateSpeed;this.userPan=this.userPan;this.userPanSpeed=this.userPanSpeed;this.autoRotate=this.autoRotate;this.autoRotateSpeed=this.autoRotateSpeed;this.minPolarAngle=this.minPolarAngle;this.maxPolarAngle=this.maxPolarAngle;this.minDistance=this.minDistance;this.maxDistance=this.maxDistance;this.distance=Math.min(this.maxDistance,Math.max(this.distance,this.minDistance));this.onMouseDown=o.bind(function(e){if(this.enabled===false)return;if(this.userRotate===false)return;e.preventDefault();if(e.button===0){v=p.ROTATE;s.set(e.clientX,e.clientY)}else if(e.button===1){v=p.ZOOM;h.set(e.clientX,e.clientY)}else if(e.button===2){v=p.PAN}document.addEventListener(\"mousemove\",this.onMouseMove,false);document.addEventListener(\"mouseup\",this.onMouseUp,false)},this);this.onMouseMove=o.bind(function(e){if(this.enabled===false)return;e.preventDefault();if(v===p.ROTATE){a.set(e.clientX,e.clientY);r.subVectors(a,s);this.rotateLeft(2*Math.PI*r.x/i*this.userRotateSpeed);this.rotateUp(2*Math.PI*r.y/i*this.userRotateSpeed);s.copy(a)}else if(v===p.ZOOM){u.set(e.clientX,e.clientY);l.subVectors(u,h);if(l.y>0){this.zoomIn()}else{this.zoomOut()}h.copy(u)}else if(v===p.PAN){var o=e.movementX||e.mozMovementX||e.webkitMovementX||0;var n=e.movementY||e.mozMovementY||e.webkitMovementY||0;this.pan(new t.Vector3(-o,n,0))}},this);this.onMouseUp=o.bind(function(e){if(this.enabled===false)return;if(this.userRotate===false)return;document.removeEventListener(\"mousemove\",this.onMouseMove,false);document.removeEventListener(\"mouseup\",this.onMouseUp,false);v=p.NONE},this);this.onMouseWheel=o.bind(function(e){if(this.enabled===false)return;if(this.userZoom===false)return;var t=0;if(e.wheelDelta){t=e.wheelDelta}else if(e.detail){t=-e.detail}if(t>0){this.zoomOut()}else{this.zoomIn()}},this);this.domElement.addEventListener(\"contextmenu\",this.preventDefault,false);this.domElement.addEventListener(\"mousedown\",this.onMouseDown,false);this.domElement.addEventListener(\"mousewheel\",this.onMouseWheel,false);this.domElement.addEventListener(\"DOMMouseScroll\",this.onMouseWheel,false)};M.prototype.objectCreated=function(){if(this.target&&this.target.id!==this.getObject().id){var e=this;this.getObject().listenToOnce(this.target,\"load_base\",function(){e.center=e.target.threeData.position;e.ready=true})}else{var o=new t.Vector3(0,0,-this.distance);o.applyQuaternion(this.getThreeData().quaternion);var n=new t.Vector3;n.addVectors(this.getThreeData().position,o);this.center.set(n.x,n.y,n.z);this.ready=true}};M.prototype.shutdown=function(){this.domElement.removeEventListener(\"contextmenu\",this.preventDefault,false);this.domElement.removeEventListener(\"mousedown\",this.onMouseDown,false);this.domElement.removeEventListener(\"mousewheel\",this.onMouseWheel,false);this.domElement.removeEventListener(\"DOMMouseScroll\",this.onMouseWheel,false)};M.prototype.update=function(){if(!this.ready){return}var e=this.getThreeData().position;var t=e.clone().sub(this.center);var o=Math.atan2(t.x,t.z);var i=Math.atan2(Math.sqrt(t.x*t.x+t.z*t.z),t.y);if(this.autoRotate){this.rotateLeft(this.getAutoRotationAngle())}o+=d;i+=m;i=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,i));i=Math.max(n,Math.min(Math.PI-n,i));var s=t.length()*c;s=Math.max(this.minDistance,Math.min(this.maxDistance,s));t.x=s*Math.sin(i)*Math.sin(o);t.y=s*Math.cos(i);t.z=s*Math.sin(i)*Math.cos(o);e.copy(this.center).add(t);this.getThreeData().lookAt(this.center);d=0;m=0;c=1;if(f.distanceTo(this.getThreeData().position)>0){f.copy(this.getThreeData().position)}};M.prototype.rotateLeft=function(e){if(e===undefined){e=this.getAutoRotationAngle()}d-=e};M.prototype.rotateRight=function(e){if(e===undefined){e=this.getAutoRotationAngle()}d+=e};M.prototype.rotateUp=function(e){if(e===undefined){e=this.getAutoRotationAngle()}m-=e};M.prototype.rotateDown=function(e){if(e===undefined){e=this.getAutoRotationAngle()}m+=e};M.prototype.zoomIn=function(e){if(e===undefined){e=this.getZoomScale()}c/=e};M.prototype.zoomOut=function(e){if(e===undefined){e=this.getZoomScale()}c*=e};M.prototype.pan=function(e){e.transformDirection(this.getThreeData().matrix);e.multiplyScalar(this.userPanSpeed);this.getThreeData().position.add(e);this.center.add(e)};M.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed};M.prototype.getZoomScale=function(){return Math.pow(.95,this.userZoomSpeed)};M.prototype.preventDefault=function(e){e.preventDefault()};return M});","script":"// Original from THREE.js: https://github.com/mrdoob/three.js/blob/master/examples/js/controls/OrbitControls.js\n/* global VAPI */\nvar _ = require('underscore');\n\nvar EPS = 0.000001;\nvar PIXELS_PER_ROUND = 1800;\n\nvar rotateStart = new THREE.Vector2();\nvar rotateEnd = new THREE.Vector2();\nvar rotateDelta = new THREE.Vector2();\n\nvar zoomStart = new THREE.Vector2();\nvar zoomEnd = new THREE.Vector2();\nvar zoomDelta = new THREE.Vector2();\n\nvar phiDelta = 0;\nvar thetaDelta = 0;\nvar scale = 1;\n\nvar lastPosition = new THREE.Vector3();\n\nvar STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2 };\nvar state = STATE.NONE;\n\nfunction OrbitControls() {\n  this.ready = false;\n}\n\nOrbitControls.prototype = new VAPI.VeroldComponent();\n\nOrbitControls.prototype.init = function() {\n  this.domElement = this.getRenderer().domElement;\n\n  this.enabled = this.enabled;\n\n  this.center = new THREE.Vector3();//this.center.x, this.center.y, this.center.z);\n\n  this.userZoom = this.userZoom;\n  this.userZoomSpeed = this.userZoomSpeed;\n\n  this.userRotate = this.userRotate;\n  this.userRotateSpeed = this.userRotateSpeed;\n\n  this.userPan = this.userPan;\n  this.userPanSpeed = this.userPanSpeed;\n\n  this.autoRotate = this.autoRotate;\n  this.autoRotateSpeed = this.autoRotateSpeed;\n\n  this.minPolarAngle = this.minPolarAngle; // radians\n  this.maxPolarAngle = this.maxPolarAngle; // radians\n\n  this.minDistance = this.minDistance;\n  this.maxDistance = this.maxDistance;\n\n  this.distance = Math.min( this.maxDistance, Math.max( this.distance, this.minDistance ));\n\n  this.onMouseDown = _.bind(function( event ) {\n    if ( this.enabled === false ) return;\n    if ( this.userRotate === false ) return;\n\n    event.preventDefault();\n\n    if ( event.button === 0 ) {\n      state = STATE.ROTATE;\n\n      rotateStart.set( event.clientX, event.clientY );\n    } else if ( event.button === 1 ) {\n      state = STATE.ZOOM;\n\n      zoomStart.set( event.clientX, event.clientY );\n    } else if ( event.button === 2 ) {\n      state = STATE.PAN;\n    }\n\n    document.addEventListener( 'mousemove', this.onMouseMove, false );\n    document.addEventListener( 'mouseup', this.onMouseUp, false );\n  }, this);\n\n  this.onMouseMove = _.bind(function( event ) {\n    if ( this.enabled === false ) return;\n\n    event.preventDefault();\n\n    if ( state === STATE.ROTATE ) {\n      rotateEnd.set( event.clientX, event.clientY );\n      rotateDelta.subVectors( rotateEnd, rotateStart );\n\n      this.rotateLeft( 2 * Math.PI * rotateDelta.x / PIXELS_PER_ROUND * this.userRotateSpeed );\n      this.rotateUp( 2 * Math.PI * rotateDelta.y / PIXELS_PER_ROUND * this.userRotateSpeed );\n\n      rotateStart.copy( rotateEnd );\n    } else if ( state === STATE.ZOOM ) {\n      zoomEnd.set( event.clientX, event.clientY );\n      zoomDelta.subVectors( zoomEnd, zoomStart );\n\n      if ( zoomDelta.y > 0 ) {\n        this.zoomIn();\n      } else {\n        this.zoomOut();\n      }\n\n      zoomStart.copy( zoomEnd );\n    } else if ( state === STATE.PAN ) {\n      var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      this.pan( new THREE.Vector3( - movementX, movementY, 0 ) );\n    }\n  }, this);\n\n  this.onMouseUp = _.bind(function( event ) {\n    if ( this.enabled === false ) return;\n    if ( this.userRotate === false ) return;\n\n    document.removeEventListener( 'mousemove', this.onMouseMove, false );\n    document.removeEventListener( 'mouseup', this.onMouseUp, false );\n\n    state = STATE.NONE;\n  }, this);\n\n  this.onMouseWheel = _.bind(function( event ) {\n    if ( this.enabled === false ) return;\n    if ( this.userZoom === false ) return;\n\n    var delta = 0;\n\n    if ( event.wheelDelta ) { // WebKit / Opera / Explorer 9\n      delta = event.wheelDelta;\n    } else if ( event.detail ) { // Firefox\n      delta = - event.detail;\n    }\n\n    if ( delta > 0 ) {\n      this.zoomOut();\n    } else {\n      this.zoomIn();\n    }\n  }, this);\n\n  this.domElement.addEventListener( 'contextmenu', this.preventDefault, false);\n  this.domElement.addEventListener( 'mousedown', this.onMouseDown, false );\n  this.domElement.addEventListener( 'mousewheel', this.onMouseWheel, false );\n  this.domElement.addEventListener( 'DOMMouseScroll', this.onMouseWheel, false ); // firefox\n};\n\nOrbitControls.prototype.objectCreated = function() {\n  if ( this.target && this.target.id !== this.getObject().id ) {\n    var that = this;\n    this.getObject().listenToOnce( this.target, 'load_base', function(/*target*/) {\n      that.center = that.target.threeData.position;\n      that.ready = true;\n    });\n  }\n  else {\n    var direction = new THREE.Vector3(0, 0, -this.distance );\n    direction.applyQuaternion( this.getThreeData().quaternion );\n    var center = new THREE.Vector3();\n    center.addVectors( this.getThreeData().position, direction );\n    this.center.set( center.x, center.y, center.z );\n    this.ready = true;\n  }\n\n};\n\nOrbitControls.prototype.shutdown = function() {\n  this.domElement.removeEventListener( 'contextmenu', this.preventDefault, false);\n  this.domElement.removeEventListener( 'mousedown', this.onMouseDown, false );\n  this.domElement.removeEventListener( 'mousewheel', this.onMouseWheel, false );\n  this.domElement.removeEventListener( 'DOMMouseScroll', this.onMouseWheel, false ); // firefox\n};\n\nOrbitControls.prototype.update = function(/*delta*/) {\n  if (!this.ready) {\n    return;\n  }\n\n  var position = this.getThreeData().position;\n  var offset = position.clone().sub( this.center );\n\n  // angle from z-axis around y-axis\n\n  var theta = Math.atan2( offset.x, offset.z );\n\n  // angle from y-axis\n\n  var phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n  if ( this.autoRotate ) {\n\n    this.rotateLeft( this.getAutoRotationAngle() );\n\n  }\n\n  theta += thetaDelta;\n  phi += phiDelta;\n\n  // restrict phi to be between desired limits\n  phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n  // restrict phi to be betwee EPS and PI-EPS\n  phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n  var radius = offset.length() * scale;\n\n  // restrict radius to be between desired limits\n  radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n  offset.x = radius * Math.sin( phi ) * Math.sin( theta );\n  offset.y = radius * Math.cos( phi );\n  offset.z = radius * Math.sin( phi ) * Math.cos( theta );\n  position.copy( this.center ).add( offset );\n  this.getThreeData().lookAt( this.center );\n\n  thetaDelta = 0;\n  phiDelta = 0;\n  scale = 1;\n  if ( lastPosition.distanceTo( this.getThreeData().position ) > 0 ) {\n    lastPosition.copy( this.getThreeData().position );\n  }\n};\n\nOrbitControls.prototype.rotateLeft = function ( angle ) {\n  if ( angle === undefined ) {\n    angle = this.getAutoRotationAngle();\n  }\n\n  thetaDelta -= angle;\n};\n\nOrbitControls.prototype.rotateRight = function ( angle ) {\n  if ( angle === undefined ) {\n    angle = this.getAutoRotationAngle();\n  }\n\n  thetaDelta += angle;\n};\n\nOrbitControls.prototype.rotateUp = function ( angle ) {\n  if ( angle === undefined ) {\n    angle = this.getAutoRotationAngle();\n  }\n\n  phiDelta -= angle;\n};\n\nOrbitControls.prototype.rotateDown = function ( angle ) {\n  if ( angle === undefined ) {\n    angle = this.getAutoRotationAngle();\n  }\n\n  phiDelta += angle;\n};\n\nOrbitControls.prototype.zoomIn = function ( zoomScale ) {\n  if ( zoomScale === undefined ) {\n    zoomScale = this.getZoomScale();\n  }\n\n  scale /= zoomScale;\n};\n\nOrbitControls.prototype.zoomOut = function ( zoomScale ) {\n  if ( zoomScale === undefined ) {\n    zoomScale = this.getZoomScale();\n  }\n\n  scale *= zoomScale;\n};\n\nOrbitControls.prototype.pan = function ( distance ) {\n  distance.transformDirection( this.getThreeData().matrix );\n  distance.multiplyScalar( this.userPanSpeed );\n\n  this.getThreeData().position.add( distance );\n  this.center.add( distance );\n};\n\nOrbitControls.prototype.getAutoRotationAngle = function() {\n  return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n};\n\nOrbitControls.prototype.getZoomScale = function() {\n  return Math.pow( 0.95, this.userZoomSpeed );\n};\n\nOrbitControls.prototype.preventDefault = function(e) {\n  e.preventDefault();\n};\n\nreturn OrbitControls;\n","attributes":{"target":{"description":"The object that will be orbited. If not specified, the distance attribute will be used to select an orbit point","type":"object"},"maxDistance":{"description":"maximum camera distance","default":5,"type":"f"},"minDistance":{"description":"minimum camera distance","default":0.01,"type":"f"},"maxPolarAngle":{"description":"maximum polar angle","default":3.141592653589793,"type":"f"},"minPolarAngle":{"description":"minimum polar angle","default":0,"type":"f"},"autoRotateSpeed":{"description":"speed of auto rotate","default":2,"type":"f"},"autoRotate":{"description":"enable auto rotate?","default":false,"type":"b"},"userPanSpeed":{"description":"speed of user pan","default":0.2,"type":"f"},"userPan":{"description":"enable user pan?","default":true,"type":"b"},"userRotateSpeed":{"description":"speed of camera rotate","default":1,"type":"f"},"userRotate":{"description":"enable camera rotate?","default":true,"type":"b"},"userZoomSpeed":{"description":"speed of camera zoom","default":1,"type":"f"},"userZoom":{"description":"enable user zoom?","default":true,"type":"b"},"enabled":{"description":"enable camera controls?","default":true,"type":"b"},"distance":{"type":"f","min":0,"max":10000,"default":1,"description":"The initial distance from the orbit target"}},"description":"Orbit controls for camera."},"state":"PROCESSED","template":false,"children":{}},{"id":"525c57d3e7c5030200000353","v":204,"parentAssetId":"525c57d3e7c5030200000353","projectId":"525c57c6e7c503020000034a","type":"script","name":"OrbitAnimator","rootFolder":"525c57c6e7c503020000034a","payload":{"externalDependencies":[],"description":"","minified":"(function(t,e){var r=t(\"underscore\");var i={\"Shepherd 25 Years\":\"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FShepherds25Years.csv\",\"Mimas 2:1\":\"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FMimas2-1.csv\",\"Encke Gap\":\"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FEnckeGap.csv\",Resonances2:\"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FP%26PResonances.csv\"};function o(){this.currentTime=0;this.animSpeed=1;this.currentTPOrbitData={}}o.prototype=new VAPI.VeroldComponent;o.prototype.init=function(){this.state=\"pending\";window.verold.veroldEvents.on(\"loadAnimation\",this.loadAnimation,this);window.verold.veroldEvents.on(\"parseAnimation\",this.parseAnimation,this);window.verold.veroldEvents.on(\"playAnimation\",this.playAnimation,this);window.verold.veroldEvents.on(\"stopAnimation\",this.stopAnimation,this)};o.prototype.loadAnimation=function(t,e){var r=this;this.state=\"downloading\";if(i[t]){this.loadData(i[t],function(t){r.state=\"downloaded\";r.textData=t;if(e){e()}})}};o.prototype.parseAnimation=function(t){this.parseDataNew(this.textData);this.setupAnimData();this.state=\"loaded\";this.textData=null;if(t){t()}};o.prototype.playAnimation=function(){var t=this;if(this.state===\"loaded\"){this.state=\"playing\"}};o.prototype.stopAnimation=function(){var t=this;this.state=\"pending\";this.currentTime=0;this.orbitData=undefined;this.currentTPOrbitData=undefined;this.currentPLOrbitData=undefined;if(this.orbitRenderer){this.orbitRenderer.unloadOrbitGeometry()}};o.prototype.loadData=function(t,e){var r=new XMLHttpRequest;r.open(\"GET\",t,true);r.onload=function(){if(r.responseText){var t=r.responseText;e(t)}else{}};r.onerror=function(e){if(e){console.error(\"Error downloading \"+t+\". Seems to be unreachable or file there is empty\",e)}};r.send()};o.prototype.parseDataNew=function(t){var e=p(t);var r=12;e.splice(0,1);var i=a(e,r);var o=0;var s=0;this.tp=[];this.pl=[];var n=i.tpNum+i.plNum;var c=Math.round(e.length/n);this.orbitData=[];for(var h=0;h<c;h++){var u=[];var l=[];var d=e[h*n][0];for(var v=0;v<n;v++){var b=e[h*n+v][1].substr(-2,2);var m=[];for(var f=2;f<r;f++){m.push(e[h*n+v][f])}if(b===\"tp\"){u.push(m)}else{l.push(m)}}this.orbitData.push({time:d,tpBodies:u,plBodies:l})}};function a(t,e){var r={tpNum:0,plNum:0};var i={count:0};var o={count:0};for(var a=0;a<t.length;a++){if(t[a][1].substr(-2,2)===\"tp\"){registry=i}else{registry=o}if(registry[t[a][2]]){r.tpNum=i.count;r.plNum=o.count;return r}else{registry[t[a][2]]=true;registry.count++}}}o.prototype.parseData=function(t){var e=n(t);var r=12;e.splice(0,r);var i=s(e,r);var o=0;var a=0;this.tp=[];this.pl=[];var p=i.tpNum+i.plNum;var c=Math.floor(e.length/p/r);this.orbitData=[];for(var h=0;h<c;h++){var u=[];var l=[];var d=e[h*p*r];for(var v=0;v<p;v++){var b=e[h*p*r+v*r+1];var m=[];for(var f=2;f<r;f++){m.push(e[h*p*r+v*r+f])}if(b===\"tp\"){u.push(m)}else{l.push(m)}}this.orbitData.push({time:d,tpBodies:u,plBodies:l})}};function s(t,e){var r={tpNum:0,plNum:0};var i={count:0};var o={count:0};for(var a=0;a<t.length-12;a+=e){if(t[a+1]===\"tp\"){registry=i}else{registry=o}if(registry[t[a+2]]){r.tpNum=i.count;r.plNum=o.count;return r}else{registry[t[a+2]]=true;registry.count++}}}function n(t){var e=/^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/;var r=/(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$|\\n)/g;if(!e.test(t))return null;var i=t.replace(/[\\f\\r\\n\\vâ†µ]/g,\",\");t=undefined;var o=[];i.replace(r,function(t,e,r,i){if(e!==undefined)o.push(e.replace(/\\\\'/g,\"'\"));else if(r!==undefined)o.push(r.replace(/\\\\\"/g,'\"'));else if(i!==undefined)o.push(i);return\"\"});if(/,\\s*$/.test(i))o.push(\"\");return o}function p(t,e){e=e||\",\";var r=new RegExp(\"(\\\\\"+e+\"|\\\\r?\\\\n|\\\\r|^)\"+'(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|'+'([^\"\\\\'+e+\"\\\\r\\\\n]*))\",\"gi\");t.replace(/\\s/g,\"\");var i=[[]];var o=null;while(o=r.exec(t)){var a=o[1];if(a.length&&a!=e){i.push([])}if(o[2]){var s=o[2].replace(new RegExp('\"\"',\"g\"),'\"')}else{var s=o[3]}i[i.length-1].push(s)}return i}o.prototype.setupAnimData=function(){this.currentTPOrbitData=new Array(this.orbitData[0].tpBodies.length);for(var t=0;t<this.orbitData[0].tpBodies.length;t++){var r={};r.objectPosition=new e.Vector3;r.objectVelocity=new e.Vector3;r.orbitParams=new e.Vector3;this.currentTPOrbitData[t]=r}this.currentPLOrbitData=new Array(this.orbitData[0].plBodies.length);for(t=0;t<this.orbitData[0].plBodies.length;t++){var i={};i.objectPosition=new e.Vector3;i.objectVelocity=new e.Vector3;i.orbitParams=new e.Vector3;this.currentPLOrbitData[t]=i}this.orbitRenderer.initializeBodies(this.currentTPOrbitData,this.currentPLOrbitData)};o.prototype.objectCreated=function(){var t=this;t.orbitRenderer=t.getComponents().first(\"OrbitRenderer\")};o.prototype.update=function(t){function e(t,e,r){return t*(1-r)+e*r}if(this.veroldObject.threeData&&this.orbitData){if(this.orbitRenderer&&this.state===\"playing\"){this.currentTime+=t;this.currentTime=this.currentTime%this.totalAnimTime;var r=this.currentTime/this.totalAnimTime;r*=this.orbitData.length;var i=Math.floor(r);var o=Math.ceil(r);var a=r-i;var s=this.orbitData[i];if(o>=this.orbitData.length){o=0}var n=this.orbitData[o];var p=e(s.time,n.time,a);$(\"#time h1\").text(\"Time: \"+p.toFixed(2)+\" years\");for(var c=0;c<this.orbitData[0].tpBodies.length;c++){this.currentTPOrbitData[c].objectPosition.x=s.tpBodies[c][1];this.currentTPOrbitData[c].objectPosition.y=s.tpBodies[c][2];this.currentTPOrbitData[c].objectPosition.z=s.tpBodies[c][3];this.currentTPOrbitData[c].objectVelocity.x=s.tpBodies[c][4];this.currentTPOrbitData[c].objectVelocity.y=s.tpBodies[c][5];this.currentTPOrbitData[c].objectVelocity.z=s.tpBodies[c][6];this.currentTPOrbitData[c].orbitParams.x=e(s.tpBodies[c][7],n.tpBodies[c][7],a);this.currentTPOrbitData[c].orbitParams.y=e(s.tpBodies[c][8],n.tpBodies[c][8],a);this.currentTPOrbitData[c].orbitParams.z=e(s.tpBodies[c][9],n.tpBodies[c][9],a)}for(c=0;c<this.orbitData[0].plBodies.length;c++){this.currentPLOrbitData[c].objectPosition.x=s.plBodies[c][1];this.currentPLOrbitData[c].objectPosition.y=s.plBodies[c][2];this.currentPLOrbitData[c].objectPosition.z=s.plBodies[c][3];this.currentPLOrbitData[c].objectVelocity.x=s.plBodies[c][4];this.currentPLOrbitData[c].objectVelocity.y=s.plBodies[c][5];this.currentPLOrbitData[c].objectVelocity.z=s.plBodies[c][6];this.currentPLOrbitData[c].orbitParams.x=e(s.plBodies[c][7],n.plBodies[c][7],a);this.currentPLOrbitData[c].orbitParams.y=e(s.plBodies[c][8],n.plBodies[c][8],a);this.currentPLOrbitData[c].orbitParams.z=e(s.plBodies[c][9],n.plBodies[c][9],a)}}}};o.prototype.setTime=function(t){this.currentTime=t};o.prototype.shutdown=function(){};return o});","script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\nvar _ = require('underscore');\n\nvar animPaths = {\n//   \"test\" : \"http://assets.verold.com/demos/mbond/ascii%20%286-Nov-10-40%29.csv\",\n//   \"Mimas uncompressed\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FMimas%202%20years_uncompressed.csv\",\n//   \"Mimas 3:1\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FMimas%203-1%20Zoom%20Cmp.csv\",\n//   \"P&P 24 years\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FPandoraAndP-24%20years.csv\",\n//   \"Mimas resonances\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FMimas%20major%20resonances.csv\",\n//   \"Pan density waves\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FPan%20density%20waves.csv\",\n  //\"Shepherd P&P\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FShepherd%20P%26P.csv\",\n  \"Shepherd 25 Years\": \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FShepherds25Years.csv\",\n  \"Mimas 2:1\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FMimas2-1.csv\",\n  \"Encke Gap\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FEnckeGap.csv\",\n  //\"Resonances\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FP%26P%20Resonances.csv\",\n  \"Resonances2\" : \"http://commondatastorage.googleapis.com/assets.verold.com%2Fdemos%2Fmbond%2FP%26PResonances.csv\"\n};\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n  this.currentTime = 0;\n  this.animSpeed = 1.0;\n  \n  this.currentTPOrbitData = {};\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.init = function() {\n  this.state = \"pending\";\n  window.verold.veroldEvents.on(\"loadAnimation\", this.loadAnimation, this );\n  window.verold.veroldEvents.on(\"parseAnimation\", this.parseAnimation, this );\n  window.verold.veroldEvents.on(\"playAnimation\", this.playAnimation, this );\n  window.verold.veroldEvents.on(\"stopAnimation\", this.stopAnimation, this );\n};\n\nComponent.prototype.loadAnimation = function( animName, callback ) {\n  var that = this;\n  this.state = \"downloading\";\n  if ( animPaths[animName] ) {\n  \n    this.loadData( animPaths[animName], function( text ) {\n      that.state = \"downloaded\";\n      that.textData = text;\n      \n      if ( callback ) {\n        callback();\n      }\n    });\n  }\n};\n\nComponent.prototype.parseAnimation = function( callback ) {\n  this.parseDataNew( this.textData );\n  this.setupAnimData();\n  this.state = \"loaded\";\n  this.textData = null;\n  if ( callback ) {\n    callback();\n  }\n};\n\nComponent.prototype.playAnimation = function() {\n  var that = this;\n  if ( this.state === \"loaded\" ) {\n    this.state = \"playing\";\n  }\n  \n};\n\nComponent.prototype.stopAnimation = function() {\n  var that = this;\n  \n  //stop animation from updating\n  this.state = \"pending\";\n  this.currentTime = 0;\n  //clean up animation data\n  this.orbitData = undefined;\n  this.currentTPOrbitData = undefined;\n  this.currentPLOrbitData = undefined;\n  //clean up render data\n  if ( this.orbitRenderer ) {\n    this.orbitRenderer.unloadOrbitGeometry();\n  }\n};\n\nComponent.prototype.loadData = function( url, callback ) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, true);\n  \n  xhr.onload = function( ) {\n    if ( xhr.responseText ) {\n      var text = xhr.responseText;\n      \n      callback(text);\n    }\n    else {\n\n      //if ( fnError ) { fnError( \"VeroldGeometryLoader: [\" + url + \"] seems to be unreachable or file there is empty\" ); }\n    }\n    \n  };\n\n  xhr.onerror = function( err ) {\n    if ( err ) { \n      console.error( \"Error downloading \" + url + \". Seems to be unreachable or file there is empty\", err );\n    }\n  };\n  \n  xhr.send();\n};\n\nComponent.prototype.parseDataNew = function( text ) {\n  \n  var rawData = CSVToArray2(text);\n  \n  var recordLength = 12;\n  rawData.splice(0, 1 );\n  var bodyInfo = parseBodyInfoNew( rawData, recordLength );\n  \n  var tpCounter = 0;\n  var tpIndex = 0;\n\tthis.tp = [];\n\tthis.pl = [];\n\n  var numBodies = bodyInfo.tpNum + bodyInfo.plNum;\n  var animSteps = Math.round( rawData.length / numBodies );\n\tthis.orbitData = [];\n  //Build array of each animation step\n\tfor ( var animStep = 0; animStep < animSteps; animStep++ ) {\n    var tpBodies = [];\n    var plBodies = [];\n    var time = rawData[ animStep * numBodies ][0];\n    //At each animation step, build array of bodies\n    for ( var body = 0; body < numBodies; body++ ) {\n      \n      var type = rawData[ animStep * numBodies + body ][1].substr(-2,2);\n    \n      var newBody = [];//new Array( recordLength - 2 );\n      for ( var x = 2; x < recordLength; x++ ) {\n        newBody.push( rawData[ animStep * numBodies + body ][x] );\n      }\n      if ( type === 'tp' ) {\n        tpBodies.push( newBody );\n      }\n      else {\n        plBodies.push( newBody );\n      }\n\t\t\t\n    }\n    this.orbitData.push( { time: time, tpBodies: tpBodies, plBodies: plBodies });\n  }\n  \n};\n\nfunction parseBodyInfoNew( rawData, recordLength ) {\n  var bodyInfo = { tpNum: 0, plNum: 0 };\n  var tpReg = { count: 0};\n  var plReg = { count: 0};\n  for ( var i = 0; i < rawData.length; i++ ) {\n    if ( rawData[i][1].substr(-2, 2) === 'tp' ) {\n      registry = tpReg;\n    }\n    else {\n      registry = plReg;\n    }\n    if ( registry[ rawData[i][2] ] ) {\n      bodyInfo.tpNum = tpReg.count;\n      bodyInfo.plNum = plReg.count;\n      return bodyInfo;\n    }\n    else {\n      registry[ rawData[i][2] ] = true;\n      registry.count++;\n    }\n  }\n}\n\nComponent.prototype.parseData = function( text ) {\n  \n  var rawData = CSVtoArray(text);\n  \n  var recordLength = 12;\n  rawData.splice(0, recordLength );\n  var bodyInfo = parseBodyInfo( rawData, recordLength );\n  \n  var tpCounter = 0;\n  var tpIndex = 0;\n\tthis.tp = [];\n\tthis.pl = [];\n\n  var numBodies = bodyInfo.tpNum + bodyInfo.plNum;\n  var animSteps = Math.floor( rawData.length / numBodies / recordLength );\n\tthis.orbitData = [];\n  //Build array of each animation step\n\tfor ( var animStep = 0; animStep < animSteps; animStep++ ) {\n    var tpBodies = [];\n    var plBodies = [];\n    var time = rawData[ animStep * numBodies * recordLength ];\n    //At each animation step, build array of bodies\n    for ( var body = 0; body < numBodies; body++ ) {\n      \n      var type = rawData[ animStep * numBodies * recordLength + body * recordLength + 1 ];\n    \n      var newBody = [];//new Array( recordLength - 2 );\n      for ( var x = 2; x < recordLength; x++ ) {\n        newBody.push( rawData[ animStep * numBodies * recordLength + body * recordLength + x ] );\n      }\n      if ( type === 'tp' ) {\n        tpBodies.push( newBody );\n      }\n      else {\n        plBodies.push( newBody );\n      }\n\t\t\t\n    }\n    this.orbitData.push( { time: time, tpBodies: tpBodies, plBodies: plBodies });\n  }\n  \n};\n\nfunction parseBodyInfo( rawData, recordLength ) {\n  var bodyInfo = { tpNum: 0, plNum: 0 };\n  var tpReg = { count: 0};\n  var plReg = { count: 0};\n  for ( var i = 0; i < rawData.length - 12; i += recordLength ) {\n    if ( rawData[i + 1] === 'tp' ) {\n      registry = tpReg;\n    }\n    else {\n      registry = plReg;\n    }\n    if ( registry[ rawData[i + 2] ] ) {\n      bodyInfo.tpNum = tpReg.count;\n      bodyInfo.plNum = plReg.count;\n      return bodyInfo;\n    }\n    else {\n      registry[ rawData[i + 2] ] = true;\n      registry.count++;\n    }\n  }\n}\n\n// Return array of string values, or NULL if CSV string not well formed.\nfunction CSVtoArray(text) {\n    var re_valid = /^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/;\n    var re_value = /(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$|\\n)/g;\n    // Return NULL if input string is not well formed CSV string.\n    if (!re_valid.test(text)) return null;\n  \n   var newText = text.replace( /[\\f\\r\\n\\vâ†µ]/g, ',' );\n  text = undefined;\n      \n    var a = [];                     // Initialize array to receive values.\n    newText.replace(re_value, // \"Walk\" the string using replace with callback.\n        function(m0, m1, m2, m3) {\n            // Remove backslash from \\' in single quoted values.\n            if      (m1 !== undefined) a.push(m1.replace(/\\\\'/g, \"'\"));\n            // Remove backslash from \\\" in double quoted values.\n            else if (m2 !== undefined) a.push(m2.replace(/\\\\\"/g, '\"'));\n            else if (m3 !== undefined) a.push(m3);\n            return ''; // Return empty string.\n        });\n    // Handle special case of empty last value.\n    if (/,\\s*$/.test(newText)) a.push('');\n    return a;\n}\n\n   // This will parse a delimited string into an array of\n    // arrays. The default delimiter is the comma, but this\n    // can be overriden in the second argument.\nfunction CSVToArray2( strData, strDelimiter ){\n  // Check to see if the delimiter is defined. If not,\n  // then default to comma.\n  strDelimiter = (strDelimiter || \",\");\n\n  // Create a regular expression to parse the CSV values.\n  var objPattern = new RegExp(\n    (\n      // Delimiters.\n      \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n      // Quoted fields.\n      \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n      // Standard fields.\n      \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n    ),\n    \"gi\"\n    );\n\n    strData.replace( /\\s/g, '' );\n\n  // Create an array to hold our data. Give the array\n  // a default empty first row.\n  var arrData = [[]];\n\n  // Create an array to hold our individual pattern\n  // matching groups.\n  var arrMatches = null;\n\n\n  // Keep looping over the regular expression matches\n  // until we can no longer find a match.\n  while (arrMatches = objPattern.exec( strData )){\n\n    // Get the delimiter that was found.\n    var strMatchedDelimiter = arrMatches[ 1 ];\n\n    // Check to see if the given delimiter has a length\n    // (is not the start of string) and if it matches\n    // field delimiter. If id does not, then we know\n    // that this delimiter is a row delimiter.\n    if (\n      strMatchedDelimiter.length &&\n      (strMatchedDelimiter != strDelimiter)\n      ){\n\n      // Since we have reached a new row of data,\n      // add an empty row to our data array.\n      arrData.push( [] );\n\n    }\n\n\n    // Now that we have our delimiter out of the way,\n    // let's check to see which kind of value we\n    // captured (quoted or unquoted).\n    if (arrMatches[ 2 ]){\n\n      // We found a quoted value. When we capture\n      // this value, unescape any double quotes.\n      var strMatchedValue = arrMatches[ 2 ].replace(\n        new RegExp( \"\\\"\\\"\", \"g\" ),\n        \"\\\"\"\n        );\n\n    } else {\n\n      // We found a non-quoted value.\n      var strMatchedValue = arrMatches[ 3 ];\n\n    }\n\n\n    // Now that we have our value string, let's add\n    // it to the data array.\n    arrData[ arrData.length - 1 ].push( strMatchedValue );\n  }\n\n  // Return the parsed data.\n  return( arrData );\n}\n\nComponent.prototype.setupAnimData = function() {\n  this.currentTPOrbitData = new Array( this.orbitData[0].tpBodies.length );\n  for ( var i = 0; i < this.orbitData[0].tpBodies.length; i ++ )\n  {\n    var newTP = {};\n    newTP.objectPosition = new THREE.Vector3();\n    newTP.objectVelocity = new THREE.Vector3();\n    newTP.orbitParams = new THREE.Vector3();\n    this.currentTPOrbitData[i] = newTP;\n  }\n  this.currentPLOrbitData = new Array( this.orbitData[0].plBodies.length );\n  for ( i = 0; i < this.orbitData[0].plBodies.length; i ++ )\n  {\n    var newPL = {};\n    newPL.objectPosition = new THREE.Vector3();\n    newPL.objectVelocity = new THREE.Vector3();\n    newPL.orbitParams = new THREE.Vector3();\n    this.currentPLOrbitData[i] = newPL;\n  }\n  this.orbitRenderer.initializeBodies( this.currentTPOrbitData, this.currentPLOrbitData );\n  \n};\n\n/**\n * Called once the data is available is available\n */\nComponent.prototype.objectCreated = function() {\n  var that = this;\n  //this.veroldObject.listenToOnce( this.veroldObject, \"load_components\", function() {\n    that.orbitRenderer = that.getComponents().first(\"OrbitRenderer\");\n  ///});\n};\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nComponent.prototype.update = function(delta) {\n  \n  function lerp( first, last, frac ) {\n    return first * (1.0 - frac) + last * frac;\n  }\n  \n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.veroldObject.threeData && this.orbitData) {\n    \n    if ( this.orbitRenderer && this.state === \"playing\" ) {\n      \n      this.currentTime += delta;\n      this.currentTime = this.currentTime % this.totalAnimTime;\n      var interpTime = this.currentTime / this.totalAnimTime;\n      interpTime *= this.orbitData.length;\n      var first = Math.floor( interpTime );\n      var last = Math.ceil( interpTime );\n      var frac = interpTime - first;\n      var firstData = this.orbitData[ first ];\n      if ( last >= this.orbitData.length ) {\n        last = 0;\n      }\n      var lastData = this.orbitData[ last ];\n      \n      var time = lerp( firstData.time, lastData.time, frac );\n      $('#time h1').text( \"Time: \" + time.toFixed(2) + \" years\" );\n      \n      for ( var i = 0; i < this.orbitData[0].tpBodies.length; i++ ) {\n        this.currentTPOrbitData[i].objectPosition.x = firstData.tpBodies[i][1];\n        this.currentTPOrbitData[i].objectPosition.y = firstData.tpBodies[i][2];\n        this.currentTPOrbitData[i].objectPosition.z = firstData.tpBodies[i][3];\n        this.currentTPOrbitData[i].objectVelocity.x = firstData.tpBodies[i][4];\n        this.currentTPOrbitData[i].objectVelocity.y = firstData.tpBodies[i][5];\n        this.currentTPOrbitData[i].objectVelocity.z = firstData.tpBodies[i][6];\n//         this.currentTPOrbitData[i].orbitParams.x = firstData.tpBodies[i][7];\n//         this.currentTPOrbitData[i].orbitParams.y = firstData.tpBodies[i][8];\n//         this.currentTPOrbitData[i].orbitParams.z = firstData.tpBodies[i][9];\n        this.currentTPOrbitData[i].orbitParams.x = lerp( firstData.tpBodies[i][7], lastData.tpBodies[i][7], frac );\n        this.currentTPOrbitData[i].orbitParams.y = lerp( firstData.tpBodies[i][8], lastData.tpBodies[i][8], frac );\n        this.currentTPOrbitData[i].orbitParams.z = lerp( firstData.tpBodies[i][9], lastData.tpBodies[i][9], frac );\n      }\n      \n      for ( i = 0; i < this.orbitData[0].plBodies.length; i++ ) {\n        this.currentPLOrbitData[i].objectPosition.x = firstData.plBodies[i][1];\n        this.currentPLOrbitData[i].objectPosition.y = firstData.plBodies[i][2];\n        this.currentPLOrbitData[i].objectPosition.z = firstData.plBodies[i][3];\n        this.currentPLOrbitData[i].objectVelocity.x = firstData.plBodies[i][4];\n        this.currentPLOrbitData[i].objectVelocity.y = firstData.plBodies[i][5];\n        this.currentPLOrbitData[i].objectVelocity.z = firstData.plBodies[i][6];\n//         this.currentPLOrbitData[i].orbitParams.x = firstData.plBodies[i][7];\n//         this.currentPLOrbitData[i].orbitParams.y = firstData.plBodies[i][8];\n//         this.currentPLOrbitData[i].orbitParams.z = firstData.plBodies[i][9];\n        this.currentPLOrbitData[i].orbitParams.x = lerp( firstData.plBodies[i][7], lastData.plBodies[i][7], frac );\n        this.currentPLOrbitData[i].orbitParams.y = lerp( firstData.plBodies[i][8], lastData.plBodies[i][8], frac );\n        this.currentPLOrbitData[i].orbitParams.z = lerp( firstData.plBodies[i][9], lastData.plBodies[i][9], frac );\n      }\n      \n    }\n  }\n};\n\nComponent.prototype.setTime = function( time ) {\n  this.currentTime = time;\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// render(delta) - called just before the renderer updates\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n","attributes":{"totalAnimTime":{"type":"f","min":1,"max":1000,"default":10,"description":""}}},"state":"PROCESSED","children":{}},{"id":"5286647e7466e3020000092e","v":73,"parentAssetId":"5286647e7466e3020000092e","projectId":"525c57c6e7c503020000034a","type":"script","name":"ResonanceCalculator","rootFolder":"525c57c6e7c503020000034a","payload":{"attributes":{"Max_Resonance_Num":{"description":"","default":5,"max":50,"min":1,"type":"i"},"Satellite_SMA":{"description":"","default":0.00124,"max":100,"min":0,"type":"f"}},"script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.init = function() {\n  // this.veroldObject is available\n  var outputText = \"\";\n  for ( var i = 1; i <= this.Max_Resonance_Num; i++ ) {\n    var period = i / (i + 1);\n    var res_SMA = Math.pow( period, 2/3 ) * this.Satellite_SMA;\n    outputText += \"\\n\" + (i + 1) + \":\" + i + \" = \" + res_SMA + \" AU\";\n  }\n  console.log( outputText );\n};\n\n/**\n * Called once the data is available is available\n */\nComponent.prototype.objectCreated = function() {\n  // this.veroldObject.threeData is available\n};\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nComponent.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n  }\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n","description":"","minified":"(function(t,o){function e(){}e.prototype=new VAPI.VeroldComponent;e.prototype.init=function(){var t=\"\";for(var o=1;o<=this.Max_Resonance_Num;o++){var e=o/(o+1);var n=Math.pow(e,2/3)*this.Satellite_SMA;t+=\"\\n\"+(o+1)+\":\"+o+\" = \"+n+\" AU\"}console.log(t)};e.prototype.objectCreated=function(){};e.prototype.update=function(t){var o;if(this.hasThreeData()){o=this.getThreeData()}};e.prototype.shutdown=function(){};return e});"},"state":"PROCESSED","children":{}},{"id":"528d3cb25597080200000200","v":1,"parentId":"528d3cb155970802000001fe","parentAssetId":"528d3cb155970802000001fe","projectId":"525c57c6e7c503020000034a","type":"mesh","name":"New Plane Mesh","rootFolder":"525c57c6e7c503020000034a","payload":{"scale":{"z":1,"y":1,"x":1},"geometry":{"type":"Plane","segmentsY":1,"segmentsX":1,"scale":{"y":20,"x":30}}},"state":"PROCESSED","children":{}},{"id":"528acf01ec66b9460400084b","v":1,"parentAssetId":"528acf01ec66b9460400084b","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"SaturnsRings1x8192","rootFolder":"525c57c6e7c503020000034a","folder":"ded36595dab294f888ace15fded6e20f","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxtn":{"size_in_memory":16520,"size_compressed":6909,"size":16520,"height":1,"width":4096,"path":"SaturnsRings1x8192-dxtn.dds"},"tex":{"size_in_memory":16384,"size_compressed":4049,"size":4049,"height":1,"width":4096,"path":"SaturnsRings1x8192-tex.jpg"},"tex_dxtn_low":{"size_in_memory":4232,"size_compressed":2126,"size":4232,"height":1,"width":1024,"path":"SaturnsRings1x8192-dxtn-low.dds"},"tex_dxt_low":{"size_in_memory":4232,"size_compressed":2464,"size":4232,"height":1,"width":1024,"path":"SaturnsRings1x8192-dxt-low.dds"},"tex_dxt":{"size_in_memory":32904,"size_compressed":14709,"size":32904,"height":1,"width":8192,"path":"SaturnsRings1x8192-dxt.dds"},"tex_low":{"size_in_memory":4096,"size_compressed":1458,"size":1458,"height":1,"width":1024,"path":"SaturnsRings1x8192-low.jpg"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528ad44bec66b9460400085c","v":1,"parentAssetId":"528ad44bec66b9460400085c","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"SaturnsRings1x8192_0","rootFolder":"525c57c6e7c503020000034a","folder":"bcb4dc9c063f2d9c8ce5fce16ec0e18a","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxtn":{"size_in_memory":16520,"size_compressed":6770,"size":16520,"height":4096,"width":1,"path":"SaturnsRings1x8192-dxtn.dds"},"tex_low":{"size_in_memory":4096,"size_compressed":1511,"size":1511,"height":1024,"width":1,"path":"SaturnsRings1x8192-low.jpg"},"tex_dxt_low":{"size_in_memory":4232,"size_compressed":2415,"size":4232,"height":1024,"width":1,"path":"SaturnsRings1x8192-dxt-low.dds"},"tex_dxt":{"size_in_memory":32904,"size_compressed":14217,"size":32904,"height":8192,"width":1,"path":"SaturnsRings1x8192-dxt.dds"},"tex":{"size_in_memory":16384,"size_compressed":4205,"size":4205,"height":4096,"width":1,"path":"SaturnsRings1x8192-tex.jpg"},"tex_dxtn_low":{"size_in_memory":4232,"size_compressed":2122,"size":4232,"height":1024,"width":1,"path":"SaturnsRings1x8192-dxtn-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528acf24d47d2f0200000247","v":292,"parentAssetId":"528acf24d47d2f0200000247","projectId":"525c57c6e7c503020000034a","type":"script","name":"Ring Generator","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(t,e){function i(){}i.prototype=new VAPI.VeroldComponent;i.prototype.editorInit=function(){var t=this;this.initRingGeometry();this.veroldObject.listenToOnce(this.veroldObject,\"load_base\",function(){t.objectCreated()})};i.prototype.init=function(){window.verold.veroldEvents.on(\"fadeRings\",this.fadeRings,this);this.initRingGeometry();this.fadeOpacity=1;this.fadeTargetOpacity=1};i.prototype.fadeRings=function(t,e){this.fadeTime=t;this.fadeTimeLeft=t;this.fadeTargetOpacity=e};i.prototype.objectCreated=function(){var t=this;this.ringMaterial.load({load:function(){t.ringMesh=new e.Mesh(t.ringGeometry,t.ringMaterial.threeData.static);t.ringMesh.castShadow=true;t.veroldObject.threeData.add(t.ringMesh)}})};i.prototype.initRingGeometry=function(){this.ringGeometry=new e.BufferGeometry;this.ringGeometry.addAttribute(\"position\",Float32Array,this.numSegments*2,3);this.ringGeometry.addAttribute(\"normal\",Float32Array,this.numSegments*2,3);this.ringGeometry.addAttribute(\"uv\",Float32Array,this.numSegments*2,2);this.ringGeometry.addAttribute(\"index\",Uint16Array,this.numSegments*6,1);var t=this.ringGeometry.attributes.position.array;var i=this.ringGeometry.attributes.normal.array;var n=this.ringGeometry.attributes.uv.array;var r=this.ringGeometry.attributes.index.array;var s=4e4*this.innerRadius;var a,o;for(a=0;a<2;a++){for(o=0;o<=this.numSegments;o++){var h=o/this.numSegments*2*Math.PI;t[a*this.numSegments*3+o*3]=s*Math.cos(h);t[a*this.numSegments*3+o*3+1]=0;t[a*this.numSegments*3+o*3+2]=s*Math.sin(h);i[a*this.numSegments*3+o*3]=0;i[a*this.numSegments*3+o*3+1]=1;i[a*this.numSegments*3+o*3+2]=0;n[a*this.numSegments*2+o*2]=a;n[a*this.numSegments*2+o*2+1]=s*Math.sin(h)}s=4e4*this.outerRadius}for(o=0;o<this.numSegments;o++){if(o===this.numSegments-1){r[o*6+0]=0;r[o*6+5]=0;r[o*6+3]=this.numSegments}else{r[o*6+0]=o+1;r[o*6+5]=o+1;r[o*6+3]=this.numSegments+o+1}r[o*6+2]=o;r[o*6+1]=this.numSegments+o;r[o*6+4]=this.numSegments+o}this.ringGeometry.offsets=[];var m={start:0,index:0,count:this.numSegments*2*3};this.ringGeometry.offsets.push(m);this.ringGeometry.computeBoundingSphere();this.ringGeometry.dynamic=false};i.prototype.update=function(t){var e;if(this.hasThreeData()){e=this.getThreeData();if(this.fadeTimeLeft>0){this.fadeTimeLeft-=t;var i=this.fadeTimeLeft/this.fadeTime;var n=this.fadeOpacity*i+this.fadeTargetOpacity*(1-i);this.ringMaterial.threeData.static.uniforms.opacity.value=n}else{this.ringMaterial.threeData.static.uniforms.opacity.value=this.fadeTargetOpacity}}};i.prototype.shutdown=function(){};return i});","attributes":{"outerRadius":{"description":"","default":0.00095362114,"max":1,"min":0.00001,"type":"f"},"innerRadius":{"description":"","default":0.0004749888,"max":1,"min":1e-7,"type":"f"},"ringMaterial":{"type":"asset","filter":{"material":true},"description":""},"numSegments":{"type":"i","min":12,"max":256,"default":128,"description":""}},"description":"","script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.editorInit = function() {\n  var that = this;\n  //this.ringGeometry = new THREE.RingGeometry( 0.4, 1.16, 128, 1, 0, Math.PI * 2.0 );\n  this.initRingGeometry();\n  this.veroldObject.listenToOnce( this.veroldObject, \"load_base\", function() {\n    that.objectCreated();\n  });\n};\n\n\nComponent.prototype.init = function() {\n  window.verold.veroldEvents.on(\"fadeRings\", this.fadeRings, this );\n  \n  //this.ringGeometry = new THREE.RingGeometry( 0.4, 1.16, 128, 1, 0, Math.PI * 2.0 );\n  this.initRingGeometry();\n  this.fadeOpacity = 1.0;\n  this.fadeTargetOpacity = 1.0;\n};\n\nComponent.prototype.fadeRings = function( fadeTime, targetOpacity ) {\n  this.fadeTime = fadeTime;\n  this.fadeTimeLeft = fadeTime;\n  this.fadeTargetOpacity = targetOpacity;\n};\n\n/**\n * Called once the data is available is available\n */\nComponent.prototype.objectCreated = function() {\n  // this.veroldObject.threeData is available\n  var that = this;\n  \n  this.ringMaterial.load( {\n    load: function() {\n      that.ringMesh = new THREE.Mesh( that.ringGeometry, that.ringMaterial.threeData.static );\n      that.ringMesh.castShadow = true;\n//       that.ringMesh.scale.y = 100;\n//       that.ringMesh.scale.z = 100;\n      that.veroldObject.threeData.add( that.ringMesh );\n    }\n  });\n  \n};\n\nComponent.prototype.initRingGeometry = function() {\n  this.ringGeometry = new THREE.BufferGeometry();\n  this.ringGeometry.addAttribute( 'position', Float32Array, this.numSegments * 2, 3 );\n  this.ringGeometry.addAttribute( 'normal', Float32Array, this.numSegments * 2, 3 );\n  this.ringGeometry.addAttribute( 'uv', Float32Array, this.numSegments * 2, 2 );\n  this.ringGeometry.addAttribute( 'index', Uint16Array, this.numSegments * 6, 1 );\n\n  var positions = this.ringGeometry.attributes.position.array;\n  var normals = this.ringGeometry.attributes.normal.array;\n  var uvs = this.ringGeometry.attributes.uv.array;\n  var indices = this.ringGeometry.attributes.index.array;\n\n  var radius = 40000 * this.innerRadius;\n  var i, o;\n  for ( i = 0; i < 2; i ++ ) { // concentric circles inside ring\n\n    for ( o = 0; o <= this.numSegments; o ++ ) { // number of segments per circle\n  \n      //var vertex = new THREE.Vector3();\n      var segment = o / this.numSegments * 2.0 * Math.PI;\n\n      positions[i * this.numSegments * 3 + o * 3] = radius * Math.cos( segment );\n      positions[i * this.numSegments * 3 + o * 3 + 1] = 0;\n      positions[i * this.numSegments * 3 + o * 3 + 2] = radius * Math.sin( segment );\n      \n      normals[i * this.numSegments * 3 + o * 3] = 0;\n      normals[i * this.numSegments * 3 + o * 3 + 1] = 1;\n      normals[i * this.numSegments * 3 + o * 3 + 2] = 0;\n\n      uvs[ i * this.numSegments * 2 + o * 2] = i;\n      uvs[ i * this.numSegments * 2 + o * 2 + 1] = radius * Math.sin( segment );\n      \n    }\n\n    radius = 40000 * this.outerRadius;\n\n  }\n  \n    \n  for ( o = 0; o < this.numSegments; o ++ ) { // number of segments per circle\n\n    if ( o === this.numSegments - 1 ) {\n      indices[ o * 6 + 0] = 0;\n      indices[ o * 6 + 5] = 0;\n      indices[ o * 6 + 3] = this.numSegments;\n    }\n    else {\n      indices[ o * 6 + 0] = o + 1;\n      indices[ o * 6 + 5] = o + 1;\n      indices[ o * 6 + 3] = this.numSegments + o + 1;\n    }\n\n    indices[ o * 6 + 2] = o;\n    indices[ o * 6 + 1] = this.numSegments + o;\n    indices[ o * 6 + 4] = this.numSegments + o;\n    \n  }\n  \n  this.ringGeometry.offsets = [];\n  var offset = {\n    start: 0,\n    index: 0,\n    count: this.numSegments * 2 * 3\n  };\n\n  this.ringGeometry.offsets.push( offset );\n  \n\n  //this.ringGeometry.computeVertexNormals();\n  //this.ringGeometry.computeTangents();\n  this.ringGeometry.computeBoundingSphere();\n  this.ringGeometry.dynamic = false;\n};\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nComponent.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n    if ( this.fadeTimeLeft > 0) {\n      this.fadeTimeLeft -= delta;\n      var percentage = this.fadeTimeLeft / this.fadeTime;\n      //if ( this.fadeTargetOpacity > this.fadeOpacity ) {\n      var opacity = this.fadeOpacity * percentage + this.fadeTargetOpacity * (1.0 - percentage);\n      //}\n      \n      this.ringMaterial.threeData.static.uniforms.opacity.value = opacity;\n    }\n    else {\n      this.ringMaterial.threeData.static.uniforms.opacity.value = this.fadeTargetOpacity;\n    }\n  }\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n"},"state":"PROCESSED","children":{}},{"id":"528c18b9e7b5759d09000e76","v":2,"parentAssetId":"528c18b9e7b5759d09000e76","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"saturnmap","rootFolder":"525c57c6e7c503020000034a","folder":"a89f2a5994d0ecf0639495b2b2c1ef9d","payload":{"tex":{"path":"saturnmap-tex.jpg","width":2048,"height":1024,"size":99320,"size_compressed":99320,"size_in_memory":8388608},"tex_low":{"path":"saturnmap-low.jpg","width":1024,"height":1024,"size":54437,"size_compressed":54437,"size_in_memory":4194304},"tex_dxt_low":{"path":"saturnmap-dxt-low.dds","width":1024,"height":1024,"size":699192,"size_compressed":186266,"size_in_memory":699192},"tex_dxtn":{"path":"saturnmap-dxtn.dds","width":2048,"height":1024,"size":1398248,"size_compressed":253888,"size_in_memory":1398248},"tex_dxt":{"path":"saturnmap-dxt.dds","width":2048,"height":1024,"size":1398248,"size_compressed":283961,"size_in_memory":1398248},"tex_dxtn_low":{"path":"saturnmap-dxtn-low.dds","width":1024,"height":1024,"size":699192,"size_compressed":169859,"size_in_memory":699192},"name":"Texture_With_No_Name","uMapping":"Wrap","vMapping":"Wrap","filtering":"Linear","anisotropy":1,"flipY":true,"preferCompression":false,"isNormalMap":false,"generateMipmaps":true},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"525c57c6e7c503020000034f","v":10,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"light","name":"Ambient Light","rootFolder":"525c57c6e7c503020000034a","payload":{"orientation":{"w":0.9978557991854006,"z":-0.016404959903001406,"y":-0.0014500235742583635,"x":-0.06334492023770573},"shadowCameraVisible":false,"static":true,"components":{},"shadowCascadeOffset":{"z":-300,"y":10,"x":0},"shadowCascadeBias":[-0.003,-0.004,-0.004],"shadowCascadeHeight":[1024,1024,1024],"shadowCascadeWidth":[1024,1024,1024],"shadowCascadeFarZ":[0.986,0.994,0.998],"shadowCascadeNearZ":[-1,0.986,0.994],"shadowCascadeCount":3,"shadowCascade":false,"scale":{"z":1,"y":1,"x":1},"distance":1,"intensity":1,"type":"AmbientLight","color":789516},"state":"PROCESSED","template":false,"children":{}},{"id":"525c57c6e7c5030200000350","v":19,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"light","name":"Main Light","rootFolder":"525c57c6e7c503020000034a","payload":{"static":false,"components":{},"shadowCameraVisible":true,"shadowCascadeOffset":{"z":-300,"y":10,"x":0},"shadowCascadeBias":[-0.003,-0.004,-0.004],"shadowCascadeHeight":[1024,1024,1024],"shadowCascadeWidth":[1024,1024,1024],"shadowCascadeFarZ":[0.986,0.994,0.998],"shadowCascadeNearZ":[-1,0.986,0.994],"shadowCascadeCount":3,"shadowCascade":false,"scale":{"z":1,"y":1,"x":1},"distance":1,"type":"DirectionalLight","color":16776180,"intensity":1,"position":{"x":-229.36235268012206,"y":9.158311874151472,"z":102.76774335669764},"target":{"position":{"x":0,"y":0,"z":0}},"castShadow":true,"shadowCameraNear":140,"shadowCameraFar":500,"shadowCameraLeft":-20,"shadowCameraRight":20,"shadowCameraTop":20,"shadowCameraBottom":-20,"shadowBias":-0.003,"shadowMapWidth":2048,"shadowMapHeight":2048},"state":"PROCESSED","template":false,"children":{}},{"id":"528ad0d3d47d2f020000024b","v":48,"parentAssetId":"528ad0d3d47d2f020000024b","projectId":"525c57c6e7c503020000034a","type":"material","name":"RingMaterial","rootFolder":"525c57c6e7c503020000034a","payload":{"fog":false,"depthWrite":false,"side":2,"colorOpacity":0.99,"diffuseTexture":"528acf01ec66b9460400084b","Features":{"Emissive":{"SubFeatures":{"Emissive Texture":{"enabled":true}},"enabled":true},"Reflections":{"enabled":false},"Specular":{"SubFeatures":{"Specular Texture":{"enabled":true}},"enabled":false},"Displacement":{"SubFeatures":{"Displacement Texture":{"enabled":true}},"enabled":false},"Normal Map":{"SubFeatures":{"Parallax":{"enabled":false}},"enabled":false},"Rim Lighting":{"enabled":false},"Diffuse Color":{"SubFeatures":{"AO Texture":{"enabled":false},"Diffuse Texture":{"enabled":true}},"enabled":true}},"environmentTexture":"environment_default","materialType":"Standard","emissiveTexture":"528acf01ec66b9460400084b","lightsEnabled":true,"blending":1},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528c3319af88fd0200000c5d","v":1,"parentId":"528c3318cdf5c802000009b9","parentAssetId":"528c3318cdf5c802000009b9","projectId":"525c57c6e7c503020000034a","type":"mesh","name":"New Sphere Mesh","rootFolder":"525c57c6e7c503020000034a","payload":{"scale":{"z":1,"y":1,"x":1},"geometry":{"type":"Sphere","rings":32,"segments":24,"radius":16.1144385}},"state":"PROCESSED","children":{}},{"id":"528c3318cdf5c802000009b9","v":4,"parentAssetId":"528c3318cdf5c802000009b9","projectId":"525c57c6e7c503020000034a","type":"model","name":"Saturn_Model","rootFolder":"525c57c6e7c503020000034a","payload":{"boundingbox":{"max":{"z":16.1144385,"y":16.1144385,"x":16.1144385},"min":{"z":-16.1144385,"y":-16.1144385,"x":-16.1144385}},"selectable":true,"opacity":1,"receiveShadow":false,"castShadow":false,"position":{"z":0,"y":0,"x":0},"orientation":{"w":1,"z":0,"y":0,"x":0},"scale":{"z":1,"y":1,"x":1},"geometry":{"rings":32,"segments":24,"radius":16.1144385}},"state":"PROCESSED","hasPreview":true,"children":{"528c3319af88fd0200000c5d":true}},{"id":"525c601b254a94020000035a","prefabInstanceId":"528c3327cdf5c802000009bb","v":21,"parentId":"528c3327cdf5c802000009bb","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"Orbit Animator","rootFolder":"525c57c6e7c503020000034a","payload":{"scale":{"z":1,"y":1,"x":1},"geometry":{},"components":{"59a5cfe6-9951-4765-4471-cb7f692fdcd6":{"componentData":{"numSegments":160},"scriptId":"5267d276bb9719020000000d"},"2e1e6b16-0157-4d5e-4ff2-17670245aaeb":{"scriptId":"525c57d3e7c5030200000353","componentData":{"totalAnimTime":15}}}},"state":"PROCESSED","children":{}},{"id":"528c18c7cdf5c802000008e5","v":14,"parentAssetId":"528c18c7cdf5c802000008e5","projectId":"525c57c6e7c503020000034a","type":"material","name":"Saturn","rootFolder":"525c57c6e7c503020000034a","payload":{"diffuseColor":12040119,"scatterLocalScale":2.04,"scatterColor":4142109,"emissiveColor":2171169,"emissiveTexture":"528c18b9e7b5759d09000e76","diffuseTexture":"528c18b9e7b5759d09000e76","Features":{"Emissive":{"enabled":false,"SubFeatures":{"Emissive Texture":{"enabled":true}}},"Reflections":{"enabled":false},"Specular":{"enabled":false,"SubFeatures":{"Specular Texture":{"enabled":true}}},"Displacement":{"enabled":false,"SubFeatures":{"Displacement Texture":{"enabled":true}}},"Normal Map":{"enabled":false,"SubFeatures":{"Parallax":{"enabled":false}}},"Rim Lighting":{"enabled":false},"Scattering":{"SubFeatures":{"Sub-surface Texture":{"enabled":true}},"enabled":true},"Diffuse Color":{"enabled":true,"SubFeatures":{"AO Texture":{"enabled":false},"Diffuse Texture":{"enabled":true}}}},"materialType":"Skin"},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528d451845ec6e0200000243","v":15,"parentAssetId":"528d451845ec6e0200000243","projectId":"525c57c6e7c503020000034a","type":"material","name":"SignMaterial","rootFolder":"525c57c6e7c503020000034a","payload":{"alphaBlendMode":0,"diffuseTexture":"528d5583ba7a3901040001d2","depthWrite":false,"colorOpacity":1,"diffuseColor":16777215,"fog":false,"lightsEnabled":false,"Features":{"Emissive":{"SubFeatures":{"Emissive Texture":{"enabled":false}},"enabled":false},"Reflections":{"enabled":false},"Specular":{"SubFeatures":{"Specular Texture":{"enabled":true}},"enabled":false},"Displacement":{"SubFeatures":{"Displacement Texture":{"enabled":true}},"enabled":false},"Normal Map":{"SubFeatures":{"Parallax":{"enabled":false}},"enabled":false},"Rim Lighting":{"enabled":false},"Diffuse Color":{"SubFeatures":{"AO Texture":{"enabled":false},"Diffuse Texture":{"enabled":true}},"enabled":true}},"materialType":"Standard"},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528d3cb155970802000001fe","v":3,"parentAssetId":"528d3cb155970802000001fe","projectId":"525c57c6e7c503020000034a","type":"model","name":"New Plane","rootFolder":"525c57c6e7c503020000034a","payload":{"boundingbox":{"max":{"z":10,"y":6.123031769111886e-16,"x":15},"min":{"z":-10,"y":-6.123031769111886e-16,"x":-15}},"selectable":true,"opacity":1,"receiveShadow":false,"castShadow":false,"position":{"z":0,"y":0,"x":0},"orientation":{"w":1,"z":0,"y":0,"x":0},"scale":{"z":1,"y":1,"x":1},"geometry":{"segmentsY":1,"segmentsX":1,"scale":{"y":20,"x":30}}},"state":"PROCESSED","hasPreview":true,"children":{"528d3cb25597080200000200":true}},{"id":"528d3d645597080200000209","v":2,"parentAssetId":"528d3d645597080200000209","projectId":"525c57c6e7c503020000034a","type":"script","name":"LookAt","rootFolder":"525c57c6e7c503020000034a","payload":{"attributes":{"objectToFace":{"type":"object","filter":null,"description":"The object that you want this object to point towards. e.g. for billboarding, this would be the camera used to render the scene."},"respectLocalRotation":{"type":"b","default":false,"description":"If toggled, whatever rotation you have already applied to this object will be taken into account."}},"description":"Automatically points an object at another. This can be used for billboarding an object to the camera, making a character look at another, etc.","script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\n/**\n * A component to automatically point an object at another. This can be used for\n * billboarding an object to the camera, making a character look at another, etc.\n *\n * @class LookAt\n */\nfunction LookAt() {\n}\n\nLookAt.prototype = new VAPI.VeroldComponent();\n\nLookAt.prototype.editorInit = function() {\n  this.init();\n  var engine = this.getEngine(); \n  engine.on( 'update', this.update, this );\n  \n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nLookAt.prototype.editorShutdown = function() {\n  var engine = this.getEngine();\n  engine.off( 'update', this.update, this );\n  this.shutdown();\n};\n\n/**\n * Called immediately after after component creation\n */\nLookAt.prototype.init = function() {\n  // this.veroldObject is available\n  this.tempVec = new THREE.Vector3();\n  this.tempMatrix = new THREE.Matrix4();\n  this.tempQuaternion = new THREE.Quaternion();\n};\n\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nLookAt.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n    if ( this.objectToFace && this.objectToFace.threeData ) {\n      \n      var lookAtObject = this.objectToFace.threeData;\n      this.tempVec.copy( lookAtObject.position );\n//       this.tempVec.applyMatrix4( lookAtObject.matrixWorld );\n//       if ( threeData.parent ) {\n//         this.tempMatrix.getInverse( threeData.parent.matrixWorld );\n//       }\n//       else {\n//         this.tempMatrix.identity();\n//       }\n//       this.tempVec.applyMatrix4( this.tempMatrix );\n      \n      if ( this.respectLocalRotation ) {\n        threeData.lookAt( this.tempVec );\n        threeData.quaternion.multiply( this.veroldObject.getQuaternion() );\n      }\n      else {\n        threeData.lookAt( this.tempVec );\n      }\n      \n    }\n  }\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nLookAt.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn LookAt;\n","minified":"(function(t,e){function o(){}o.prototype=new VAPI.VeroldComponent;o.prototype.editorInit=function(){this.init();var t=this.getEngine();t.on(\"update\",this.update,this)};o.prototype.editorShutdown=function(){var t=this.getEngine();t.off(\"update\",this.update,this);this.shutdown()};o.prototype.init=function(){this.tempVec=new e.Vector3;this.tempMatrix=new e.Matrix4;this.tempQuaternion=new e.Quaternion};o.prototype.update=function(t){var e;if(this.hasThreeData()){e=this.getThreeData();if(this.objectToFace&&this.objectToFace.threeData){var o=this.objectToFace.threeData;this.tempVec.copy(o.position);if(this.respectLocalRotation){e.lookAt(this.tempVec);e.quaternion.multiply(this.veroldObject.getQuaternion())}else{e.lookAt(this.tempVec)}}}};o.prototype.shutdown=function(){};return o});"},"state":"PROCESSED","template":false,"children":{}},{"id":"528d6b9bfd3a30020000035f","v":0,"parentAssetId":"528d6b9bfd3a30020000035f","projectId":"525c57c6e7c503020000034a","type":"script","name":"WaypointPlayer","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(t,i){var e=t(\"underscore\");function o(){this.index=-1}o.prototype=new VAPI.VeroldComponent;o.prototype.objectLoaded=function(){this.getEvents().on(\"next\",this.moveNext,this);this.getEvents().on(\"previous\",this.movePrevious,this);var t=e.bind(function(){this.moveNext();this.timerId=setTimeout(t,this.delay)},this);this.timerId=setTimeout(t,this.delay)};o.prototype.shutdown=function(){this.getEvents().off(\"next\",this.moveNext,this);this.getEvents().off(\"previous\",this.movePrevious,this);this.clearTimeout(this.timerId)};o.prototype.moveNext=function(){if(this.index<this.waypoints.length-1){this.index++;this._showWaypoint(this.index)}};o.prototype.movePrevious=function(){if(this.index>0){this.index--;this._showWaypoint(this.index)}};o.prototype._showWaypoint=function(t){this._tweenObjectTo(this.getThreeData(),this.waypoints[t].threeData.position,this.waypoints[t].threeData.quaternion,2,true,false,function(){})};o.prototype._tweenObjectTo=function(t,e,o,n,s,h,p){if(t&&e){var r=0;var a=0;var f=new i.Vector3;var u;f.copy(t.position);if(o){u=new i.Quaternion;u.copy(t.quaternion)}if(n){this.getEngine().on(\"update\",function c(i){r+=i;if(r>n){this.getEngine().off(\"update\",c,this);if(typeof p===\"function\"){p()}}else{a=r/n;if(a<.5&&s||a>.5&&h){a=Math.cos(a*Math.PI+Math.PI)*.5+.5}t.position.copy(f);t.position.lerp(e,a);if(o){t.quaternion.copy(u);t.quaternion.slerp(o,a)}}},this)}else{t.position.copy(e);if(o){t.quaternion.copy(o)}if(typeof p===\"function\"){p()}}}};return o});","script":"var _ = require('underscore');\n\nfunction WaypointPlayer() {\n  this.index = -1;\n}\n\nWaypointPlayer.prototype = new VAPI.VeroldComponent();\n\nWaypointPlayer.prototype.objectLoaded = function() {\n  this.getEvents().on('next', this.moveNext, this);\n  this.getEvents().on('previous', this.movePrevious, this);\n\n  var moveNext = _.bind(function() {\n    this.moveNext();\n    this.timerId = setTimeout(moveNext, this.delay);\n  }, this);\n\n  this.timerId = setTimeout(moveNext, this.delay);\n};\n\nWaypointPlayer.prototype.shutdown = function() {\n  this.getEvents().off('next', this.moveNext, this);\n  this.getEvents().off('previous', this.movePrevious, this);\n\n  this.clearTimeout(this.timerId);\n};\n\nWaypointPlayer.prototype.moveNext = function() {\n  if (this.index < this.waypoints.length - 1) {\n    this.index ++;\n    this._showWaypoint(this.index);\n  }\n};\n\nWaypointPlayer.prototype.movePrevious = function() {\n  if (this.index > 0) {\n    this.index --;\n    this._showWaypoint(this.index);\n  }\n};\n\nWaypointPlayer.prototype._showWaypoint = function(index) {\n  this._tweenObjectTo(this.getThreeData(), this.waypoints[index].threeData.position,\n        this.waypoints[index].threeData.quaternion, 2, true, false, function() { });\n};\n\nWaypointPlayer.prototype._tweenObjectTo = function( object, toPosition, toQuaternion, time, smoothStart, smoothEnd, callback ) {\n  if ( object && toPosition ) {\n\n    var curTime = 0;\n    var interp = 0;\n    var startPos = new THREE.Vector3();\n    var startQuat;\n    startPos.copy( object.position );\n    if ( toQuaternion ) {\n      startQuat = new THREE.Quaternion();\n      startQuat.copy( object.quaternion );\n    }\n\n    if ( time ) {\n      this.getEngine().on('update', function anim( delta ) {\n        curTime += delta;\n        if ( curTime > time ) {\n          this.getEngine().off('update', anim, this );\n          if (typeof callback === 'function') {\n            callback();\n          }\n        } else {\n          interp = curTime / time;\n          if ( interp < 0.5 && smoothStart || interp > 0.5 && smoothEnd ) {\n            interp = Math.cos( interp * Math.PI + Math.PI ) * 0.5 + 0.5;\n          }\n\n          object.position.copy( startPos );\n          object.position.lerp( toPosition, interp );\n          if ( toQuaternion ) {\n            object.quaternion.copy( startQuat );\n            object.quaternion.slerp( toQuaternion, interp );\n          }\n        }\n      }, this );\n    } else {\n      object.position.copy( toPosition );\n      if ( toQuaternion ) {\n        object.quaternion.copy( toQuaternion );\n      }\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }\n};\n\nreturn WaypointPlayer;\n","attributes":{"delay":{"description":"The number of milliseconds between each waypoint","default":2000,"type":"i"},"waypoints":{"description":"List of VeroldObjects","subType":{"type":"object"},"type":"a"}},"description":"Moves the object through a series of waypoints."},"state":"PROCESSED","template":false,"children":{}},{"id":"528d71c055970802000003dc","v":0,"parentAssetId":"528d71c055970802000003dc","projectId":"525c57c6e7c503020000034a","type":"script","name":"Label2D","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(e,t){var o=e(\"jquery\"),r=new t.Vector3;function n(){}n.prototype=new VAPI.VeroldComponent;n.prototype.objectCreated=function(){var e=this;this.getScene().traverse(function(o){if(o.threeData instanceof t.PerspectiveCamera){e.camera=o.threeData}});this.projector=new t.Projector;this.$el=o(\"<div>\");this.$el.css({position:\"absolute\",left:0,top:0,background:\"rgba(0,0,0, 0.2)\",padding:\"10px\",margin:\"5px\",\"border-radius\":\"5px\",color:\"#fff\",\"font-family\":\"tahoma, verdana, sans\"});this.$el.html(this.content||\"add content here\");o(this.getRenderer().domElement).parent().append(this.$el)};n.prototype.shutdown=function(){this.$el.remove()};n.prototype.update=function(){if(this.veroldObject.threeData){var e=this.getThreeData().position.clone(),t=this.worldToScreen(e);this.$el.css({left:t.x+\"px\",top:t.y+\"px\"})}};n.prototype.worldToScreen=function(e){var t,o=this.getRenderer().domElement.width/2,n=this.getRenderer().domElement.height/2;r.copy(e);t=this.projector.projectVector(r,this.camera);return{x:Math.round(t.x*o+o),y:Math.round(-t.y*n+n)}};return n});","script":"/* global VAPI */\n\nvar $ = require('jquery'),\n    tmpVec3 = new THREE.Vector3();\n\nfunction Label2D() {\n}\n\nLabel2D.prototype = new VAPI.VeroldComponent();\n\nLabel2D.prototype.objectCreated = function() {\n  var that = this;\n\n  this.getScene().traverse(function(o) {\n    if (o.threeData instanceof THREE.PerspectiveCamera) {\n      that.camera = o.threeData;\n    }\n  });\n\n  this.projector = new THREE.Projector();\n\n  this.$el = $('<div>');\n  this.$el.css({\n    'position': 'absolute',\n    'left': 0,\n    'top': 0,\n    'background': 'rgba(0,0,0, 0.2)',\n    'padding': '10px',\n    'margin': '5px',\n    'border-radius': '5px',\n    'color': '#fff',\n    'font-family': 'tahoma, verdana, sans'\n  });\n  this.$el.html(this.content || 'add content here');\n\n  $(this.getRenderer().domElement).parent().append(this.$el);\n};\n\nLabel2D.prototype.shutdown = function() {\n  this.$el.remove();\n};\n\nLabel2D.prototype.update = function() {\n  if (this.veroldObject.threeData) {\n    var position = this.getThreeData().position.clone(),\n        screenPos = this.worldToScreen(position);\n\n    this.$el.css({ left: screenPos.x + 'px', top: screenPos.y + 'px' });\n  }\n};\n\nLabel2D.prototype.worldToScreen = function(worldPosition) {\n  var vector,\n    halfWidth = this.getRenderer().domElement.width / 2,\n    halfHeight = this.getRenderer().domElement.height / 2;\n\n  tmpVec3.copy(worldPosition);\n\n  vector = this.projector.projectVector(tmpVec3, this.camera);\n\n  return {\n    x: Math.round(vector.x * halfWidth + halfWidth),\n    y: Math.round(-vector.y * halfHeight + halfHeight)\n  };\n};\n\nreturn Label2D;\n","attributes":{"content":{"description":"html content for label","default":"add content here","type":"s"}}},"state":"PROCESSED","template":false,"children":{}},{"id":"525c57c6e7c503020000034d","v":37,"parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"scene","name":"My Scene","rootFolder":"525c57c6e7c503020000034a","payload":{"environment":{"skyboxOn":false,"groundPlaneMaterial":null,"groundPlaneMaterialScale":30,"groundPlaneTesselation":120,"groundPlaneOn":false,"groundPlaneScale":12000,"skyboxFogScale":0.574,"skyboxFogPower":0.08,"skyboxCubemap":"environment_default"},"fog":{"color":"0x222222","density":0,"type":"FogExp2"},"components":{},"startupCamera":{"orbitDistance":64.57008150000001,"xAngle":-0.6583137293523587,"yAngle":-0.09930802395181926,"targetPosition":{"x":0,"y":0,"z":0},"fov":50}},"state":"PROCESSED","template":false,"children":{"525c57c6e7c503020000034e":true,"525c57c6e7c503020000034f":true,"525c57c6e7c5030200000350":true,"528666037466e30200000948":true,"528c3327cdf5c802000009bb":true,"528d6e04fd3a300200000373":true,"528d76eb45ec6e02000003f3":true,"528eb18ab7c7e102000005df":true,"528faa9020a91002000000c3":true,"528fab2eaebabd020000009e":true}},{"id":"528d71c055970802000003dd","v":0,"parentAssetId":"528d71c055970802000003dd","projectId":"525c57c6e7c503020000034a","type":"script","name":"Text2D","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(t,e){var n=t(\"jquery\");function o(){}o.prototype=new VAPI.VeroldComponent;o.prototype.objectCreated=function(){this.$parent=n(this.getRenderer().domElement).parent();this.projector=new e.Projector;this.$el=n(\"<div>\");this.$el.css({position:\"absolute\",left:this.x*this.$parent.width()||0,top:this.y*this.$parent.height()||0});this.$el.html(this.content||\"add content here\");this.$el.css(this.css);this.$parent.append(this.$el)};o.prototype.shutdown=function(){this.$el.remove()};return o});","script":"var $ = require('jquery');\n\nfunction Text2D() {\n}\n\nText2D.prototype = new VAPI.VeroldComponent();\n\nText2D.prototype.objectCreated = function() {\n  this.$parent = $(this.getRenderer().domElement).parent();\n\n  this.projector = new THREE.Projector();\n\n  this.$el = $('<div>');\n\n  this.$el.css({\n    'position': 'absolute',\n    'left': this.x * this.$parent.width() || 0,\n    'top': this.y * this.$parent.height()|| 0\n  });\n\n  this.$el.html(this.content || 'add content here');\n\n  this.$el.css(this.css);\n\n  this.$parent.append(this.$el);\n};\n\nText2D.prototype.shutdown = function() {\n  this.$el.remove();\n};\n\nreturn Text2D;\n","attributes":{"y":{"default":0,"description":"vertical position in screen space between 0.0(top) and 1.0(bottom)","type":"f"},"x":{"default":0,"description":"horizontal position in screen space between 0.0(left) and 1.0(right)","type":"f"},"content":{"default":"content","description":"The actual text","type":"s"},"css":{"default":{"color":"white","font-size":"48pt","font-family":"tahoma, verdana, sans-serif","top":0,"left":0,"position":"absolute"},"description":"CSS for the text","type":"json"}}},"state":"PROCESSED","template":false,"children":{}},{"id":"528c3327cdf5c802000009bb","prefabObjectId":"528c3318cdf5c802000009b9","prefabAssetId":"528c3318cdf5c802000009b9","sourceObjectId":"528c3318cdf5c802000009b9","sourceAssetId":"528c3318cdf5c802000009b9","prefabInstanceId":"528c3327cdf5c802000009bb","v":44,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"model","name":"Saturn","rootFolder":"525c57c6e7c503020000034a","payload":{"position":{"x":0,"y":0,"z":0},"boundingbox":{"min":{"x":-16.1144385,"y":-16.1144385,"z":-16.1144385},"max":{"x":16.1144385,"y":16.1144385,"z":16.1144385}},"center":{"x":0,"y":0,"z":0},"components":{"1fb50ca9-1363-4582-b270-668ac566d7cd":{"componentData":{"delta":{"z":0,"y":0.1,"x":0}},"scriptId":"528d80a1559708020000040d"},"6246c1b7-4fea-48fb-b2fd-b98b0910358c":{"scriptId":"528acf24d47d2f0200000247","componentData":{"outerRadius":0.0009565,"innerRadius":0.000475,"ringMaterial":"528ad0d3d47d2f020000024b","numSegments":256}}},"orientation":{"x":0,"y":0,"z":0,"w":1}},"state":"PROCESSED","children":{"528c3327cdf5c802000009bc":true,"525c601b254a94020000035a":true}},{"id":"528e80c3b7c7e102000004af","v":20,"parentAssetId":"528e80c3b7c7e102000004af","projectId":"525c57c6e7c503020000034a","type":"script","name":"BindEventExample","rootFolder":"525c57c6e7c503020000034a","payload":{"minified":"(function(t,n){var e=t(\"jquery\");function o(){}o.prototype=new VAPI.VeroldComponent;o.prototype.init=function(){e(\"#eventTrigger\").click(function(t){t.preventDefault()});e(\"#trigger-2\").click(function(t){t.preventDefault();e(\".information\").fadeOut(200,function(){e(\"#information-2\").fadeIn(200)})});e(\"#trigger-3\").click(function(t){t.preventDefault();e(\".information\").fadeOut(200,function(){e(\"#information-3\").fadeIn(200)})})};o.prototype.objectCreated=function(){};o.prototype.update=function(t){var n;if(this.hasThreeData()){n=this.getThreeData()}};o.prototype.shutdown=function(){};return o});","script":"var $ = require('jquery');\n\nfunction Component() {\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\nComponent.prototype.init = function() {\n  $('#eventTrigger').click(function(e) {\n    e.preventDefault();\n//     var target = $(e.currentTarget);\n//     target.\n  });\n  $('#trigger-2').click(function(e) {\n    e.preventDefault();\n    $('.information').fadeOut(200, function() {\n      $('#information-2').fadeIn(200);\n    });\n  });\n  $('#trigger-3').click(function(e) {\n    e.preventDefault();\n    $('.information').fadeOut(200, function() {\n      $('#information-3').fadeIn(200);\n    });\n  });\n  \n};\n\nComponent.prototype.objectCreated = function() {\n};\n\nComponent.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n  }\n};\n\nComponent.prototype.shutdown = function() {\n};\n\nreturn Component;\n"},"state":"PROCESSED","children":{}},{"id":"528d6aa6fd3a300200000359","v":69,"parentAssetId":"528d6aa6fd3a300200000359","projectId":"525c57c6e7c503020000034a","type":"script","name":"SaturnsRingsApp","rootFolder":"525c57c6e7c503020000034a","payload":{"attributes":{"camera":{"description":"","filter":{"camera":true},"type":"object"},"presentations":{"description":"","subType":{"type":"object"},"type":"a"}},"minified":"(function(e,t){function n(){this.presentationInfo=[{cssTriggerElement:\"#MimasTrigger\"},{cssTriggerElement:\"#ShepherdTrigger\"},{cssTriggerElement:\"#EnckeTriggerPanel\"},{cssTriggerElement:\"#ResonancesTriggerPanel\"}]}n.prototype=new VAPI.VeroldComponent;n.prototype.init=function(){this.geometryPicker=new VAPI.GeometryPicker;this.geometryPicker.initialize({veroldEngine:this.getEngine()});this.scene=this.veroldObject.getParentAsset();var e=this;_.each(this.presentationInfo,function(t,n){$(t.cssTriggerElement).click(function(t){t.preventDefault();var i=e.presentations[n];if(i){var o=i.getComponents().first(\"ResultsPresentation\");if(o){$(\".posterMainPage\").fadeOut(200);o.start(e.camera,function(){e._tweenObjectTo(e.camera.threeData,e.camera.getPosition(),e.camera.getQuaternion(),.5,0,true,true,function(){$(\".posterMainPage\").fadeIn(200)})})}}})},this)};n.prototype.sceneLoaded=function(){};n.prototype.update=function(e){var t;if(this.hasThreeData()){t=this.getThreeData()}};n.prototype.shutdown=function(){};n.prototype.keyDown=function(e){var t=this};n.prototype._tweenObjectTo=function(e,n,i,o,r,a,s,c){if(e&&n){var p=0;var f=0;var g=new t.Vector3;var u;g.copy(e.position);if(i){u=new t.Quaternion;u.copy(e.quaternion)}if(o){this.getEngine().on(\"update\",function h(t){p+=t;if(p>o){this.getEngine().off(\"update\",h,this);if(typeof c===\"function\"){c()}}else{f=p/o;if(f<.5&&a||f>.5&&s){f=Math.cos(f*Math.PI+Math.PI)*.5+.5}e.position.copy(g);e.position.lerp(n,f);if(i){if(r){if(p>=r){f=(p-r)/(o-r);if(f<.5&&a||f>.5&&s){f=Math.cos(f*Math.PI+Math.PI)*.5+.5}e.quaternion.copy(u);e.quaternion.slerp(i,f)}}else{e.quaternion.copy(u);e.quaternion.slerp(i,f)}}}},this)}else{e.position.copy(n);if(i){e.quaternion.copy(i)}if(typeof c===\"function\"){c()}}}};return n});","script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n  this.presentationInfo = [\n    {\n      \"cssTriggerElement\" : \"#MimasTrigger\"\n      //\"cssInfoElement\" : \"#MimasInformation\",\n      //\"presentationIndex\" : 0\n    },\n    {\n      \"cssTriggerElement\" : \"#ShepherdTrigger\"\n    },\n    {\n      \"cssTriggerElement\" : \"#EnckeTriggerPanel\"\n    },\n    {\n      \"cssTriggerElement\" : \"#ResonancesTriggerPanel\"\n    }\n  ];\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.init = function() {\n  // this.veroldObject is available\n//   this.getEngine().on(\"keyDown\", this.keyDown, this );\n  \n  this.geometryPicker = new VAPI.GeometryPicker();\n  this.geometryPicker.initialize( { veroldEngine: this.getEngine() } );\n  this.scene = this.veroldObject.getParentAsset();\n  var that = this;\n  _.each( this.presentationInfo, function( info, index ) {\n    $( info.cssTriggerElement ).click(function(e) {\n      e.preventDefault();\n      var presObj = that.presentations[ index ];\n      if ( presObj ) {\n        var presentation = presObj.getComponents().first(\"ResultsPresentation\");\n        if ( presentation ) {\n          $('.posterMainPage').fadeOut(200);\n          presentation.start( that.camera, function() {\n            //Tween camera back to whence it began.\n            that._tweenObjectTo( that.camera.threeData, that.camera.getPosition(), that.camera.getQuaternion(), 0.5, 0, true, true, function() {\n              $('.posterMainPage').fadeIn(200);\n            } );\n          } );\n        }\n      }\n//       $('.information').fadeOut(200, function() {\n//         $( info.cssInfoElement ).fadeIn(200);\n//       });\n    });\n  }, this);\n//   $( '#MimasTrigger' ).click(function(e) {\n//     e.preventDefault();\n//     $('.information').fadeOut(200, function() {\n//       $( this.cssInfoElement ).fadeIn(200);\n//     });\n//   });\n};\n\n/**\n * Called once the data is available is available\n */\nComponent.prototype.sceneLoaded = function() {\n//   this.getEngine().on(\"mouseDown\", this.mouseDown, this );\n};\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nComponent.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n  }\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n//   this.getEngine().off(\"keyDown\", this.keyDown, this );\n//   this.getEngine().off(\"mouseDown\", this.mouseDown, this );\n};\n\nComponent.prototype.keyDown = function( event ) {\n  var that = this;\n  \n//   if ( this.getInput().keyDown('1') ) {\n    \n//     if ( that.presentations[0] ) {\n//       var presentation = that.presentations[0].getComponents().first(\"ResultsPresentation\");\n//       if ( presentation ) {\n//         presentation.start( that.camera, function() {\n//           //Tween camera back to whence it began.\n//           that._tweenObjectTo( that.camera.threeData, that.camera.getPosition(), that.camera.getQuaternion(), 0.5, 0, true, true );\n          \n//         } );\n//       }\n//     }\n    \n//   }\n//   else if ( this.getInput().keyDown('2') ) {\n//     window.verold.veroldEvents.trigger(\"playAnimation\");\n//   }\n};\n\n// Component.prototype.mouseDown = function( event ) {\n//   //var pickData = this.geometryPicker.pick( this.scene.threeData, this.camera.threeData, 0.5, 0.5 );\n// };\n\nComponent.prototype._tweenObjectTo = function( object, toPosition, toQuaternion, time, quaternionDelay, smoothStart, smoothEnd, callback ) {\n  if ( object && toPosition ) {\n\n    var curTime = 0;\n    var interp = 0;\n    var startPos = new THREE.Vector3();\n    var startQuat;\n    startPos.copy( object.position );\n    if ( toQuaternion ) {\n      startQuat = new THREE.Quaternion();\n      startQuat.copy( object.quaternion );\n    }\n\n    if ( time ) {\n      this.getEngine().on('update', function anim( delta ) {\n        curTime += delta;\n        if ( curTime > time ) {\n          this.getEngine().off('update', anim, this );\n          if (typeof callback === 'function') {\n            callback();\n          }\n        } else {\n          interp = curTime / time;\n          if ( interp < 0.5 && smoothStart || interp > 0.5 && smoothEnd ) {\n            interp = Math.cos( interp * Math.PI + Math.PI ) * 0.5 + 0.5;\n          }\n\n          object.position.copy( startPos );\n          object.position.lerp( toPosition, interp );\n          if ( toQuaternion ) {\n            \n            if ( quaternionDelay ) {\n              if ( curTime >= quaternionDelay ) {\n                interp = (curTime - quaternionDelay) / (time - quaternionDelay);\n                if ( interp < 0.5 && smoothStart || interp > 0.5 && smoothEnd ) {\n                  interp = Math.cos( interp * Math.PI + Math.PI ) * 0.5 + 0.5;\n                }\n                object.quaternion.copy( startQuat );\n                object.quaternion.slerp( toQuaternion, interp );\n              }\n            }\n            else {\n              object.quaternion.copy( startQuat );\n              object.quaternion.slerp( toQuaternion, interp );\n            }\n            \n          }\n        }\n      }, this );\n    } else {\n      object.position.copy( toPosition );\n      if ( toQuaternion ) {\n        object.quaternion.copy( toQuaternion );\n      }\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n"},"state":"PROCESSED","children":{}},{"id":"528e9cc363dcc6f31e001996","v":1,"parentAssetId":"528e9cc363dcc6f31e001996","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Mimas-jpl-nasa","rootFolder":"525c57c6e7c503020000034a","folder":"6892a71a5044f5c2590353f064b4b56a","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex":{"size_in_memory":262144,"size_compressed":11398,"size":11398,"height":256,"width":256,"path":"Mimas-jpl-nasa-tex.jpg"},"tex_low":{"size_in_memory":262144,"size_compressed":11398,"size":11398,"height":256,"width":256,"path":"Mimas-jpl-nasa-low.jpg"},"tex_dxt_low":{"size_in_memory":43832,"size_compressed":20211,"size":43832,"height":256,"width":256,"path":"Mimas-jpl-nasa-dxt-low.dds"},"tex_dxtn":{"size_in_memory":43832,"size_compressed":3639,"size":43832,"height":256,"width":256,"path":"Mimas-jpl-nasa-dxtn.dds"},"tex_dxtn_low":{"size_in_memory":43832,"size_compressed":3643,"size":43832,"height":256,"width":256,"path":"Mimas-jpl-nasa-dxtn-low.dds"},"tex_dxt":{"size_in_memory":43832,"size_compressed":20207,"size":43832,"height":256,"width":256,"path":"Mimas-jpl-nasa-dxt.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528eb4c63b076602000006e9","v":11,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"camera","name":"MimasCamera","rootFolder":"525c57c6e7c503020000034a","payload":{"orientation":{"w":0.7481170107282221,"z":-0.021797910179035058,"y":-0.6604201592762068,"x":-0.060753640226738015},"position":{"z":31.471570126145508,"y":1.0976976879890459,"x":2.716041062459893},"components":{},"bottom":-100,"top":100,"right":100,"left":-100,"far":200000,"near":1,"aspect":1.7777777777777777,"fov":58.17,"scale":{"z":1,"y":1,"x":1},"type":"PerspectiveCamera","geometry":{}},"state":"PROCESSED","children":{}},{"id":"528ebb2563dcc6f31e001a5b","v":2,"parentAssetId":"528ebb2563dcc6f31e001a5b","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Shepherds-Wikipedia","rootFolder":"525c57c6e7c503020000034a","folder":"e354887f38e7dd96444e623bdc3fbb93","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":262144,"size_compressed":6108,"size":6108,"height":256,"width":256,"path":"Shepherds-Wikipedia-low.jpg"},"tex_dxtn":{"size_in_memory":43832,"size_compressed":1531,"size":43832,"height":256,"width":256,"path":"Shepherds-Wikipedia-dxtn.dds"},"tex_dxt":{"size_in_memory":43832,"size_compressed":13295,"size":43832,"height":256,"width":256,"path":"Shepherds-Wikipedia-dxt.dds"},"tex":{"size_in_memory":262144,"size_compressed":6108,"size":6108,"height":256,"width":256,"path":"Shepherds-Wikipedia-tex.jpg"},"tex_dxtn_low":{"size_in_memory":43832,"size_compressed":1535,"size":43832,"height":256,"width":256,"path":"Shepherds-Wikipedia-dxtn-low.dds"},"tex_dxt_low":{"size_in_memory":43832,"size_compressed":13299,"size":43832,"height":256,"width":256,"path":"Shepherds-Wikipedia-dxt-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528ee4a33b07660200000798","v":14,"parentId":"528d76eb45ec6e02000003f3","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"camera","name":"ShepherdCamera","rootFolder":"525c57c6e7c503020000034a","payload":{"orientation":{"w":0.9287958358425884,"z":-0.07808869542273304,"y":-0.33354541390904224,"x":-0.1413785927751683},"position":{"z":-21.32987031032516,"y":1.3754481360208084,"x":-30.523935615120358},"components":{},"bottom":-100,"top":100,"right":100,"left":-100,"far":200000,"near":1,"aspect":1.7777777777777777,"fov":50,"scale":{"z":1,"y":1,"x":1},"type":"PerspectiveCamera","geometry":{}},"state":"PROCESSED","children":{}},{"id":"528f609f0b04fd3d04000320","v":1,"parentAssetId":"528f609f0b04fd3d04000320","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Shepherd25years","rootFolder":"525c57c6e7c503020000034a","folder":"dfe7feb24f3bae4917e85a1977bd0eee","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":2097152,"size_compressed":112287,"size":112287,"height":512,"width":1024,"path":"Shepherd25years-low.jpg"},"tex":{"size_in_memory":2097152,"size_compressed":112287,"size":112287,"height":512,"width":1024,"path":"Shepherd25years-tex.jpg"},"tex_dxt":{"size_in_memory":349672,"size_compressed":75743,"size":349672,"height":512,"width":1024,"path":"Shepherd25years-dxt.dds"},"tex_dxt_low":{"size_in_memory":349672,"size_compressed":75747,"size":349672,"height":512,"width":1024,"path":"Shepherd25years-dxt-low.dds"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":20159,"size":349672,"height":512,"width":1024,"path":"Shepherd25years-dxtn.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":20163,"size":349672,"height":512,"width":1024,"path":"Shepherd25years-dxtn-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528f7fe7a5bc4e691800000a","v":2,"parentAssetId":"528f7fe7a5bc4e691800000a","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Left-Arrow","rootFolder":"525c57c6e7c503020000034a","folder":"91df66b9fa132c7a278c16a474ecaa15","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex":{"size_in_memory":262144,"size_compressed":39868,"size":39868,"height":256,"width":256,"path":"Left-Arrow-tex.png"},"tex_dxtn_low":{"size_in_memory":87536,"size_compressed":16285,"size":87536,"height":256,"width":256,"path":"Left-Arrow-dxtn-low.dds"},"tex_dxt_low":{"size_in_memory":87536,"size_compressed":19250,"size":87536,"height":256,"width":256,"path":"Left-Arrow-dxt-low.dds"},"tex_dxt":{"size_in_memory":87536,"size_compressed":19246,"size":87536,"height":256,"width":256,"path":"Left-Arrow-dxt.dds"},"tex_dxtn":{"size_in_memory":87536,"size_compressed":16281,"size":87536,"height":256,"width":256,"path":"Left-Arrow-dxtn.dds"},"tex_low":{"size_in_memory":262144,"size_compressed":39868,"size":39868,"height":256,"width":256,"path":"Left-Arrow-low.png"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528fab2eaebabd020000009f","v":10,"parentId":"528fab2eaebabd020000009e","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"camera","name":"ResonancesCamera_1","rootFolder":"525c57c6e7c503020000034a","payload":{"orientation":{"w":0.9915140889690984,"z":0.0169306774768854,"y":-0.11284352386522625,"x":-0.06228567798025881},"position":{"z":6.52713748846935,"y":0.6073417050069192,"x":-35.884966838271694},"bottom":-100,"top":100,"right":100,"left":-100,"far":20000,"near":0.5,"aspect":1.7777777777777777,"fov":58.17,"scale":{"z":1,"y":1,"x":1},"type":"PerspectiveCamera","components":{}},"state":"PROCESSED","children":{}},{"id":"528fa48259d67ba81d00006f","v":1,"parentAssetId":"528fa48259d67ba81d00006f","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Encke_Division","rootFolder":"525c57c6e7c503020000034a","folder":"8723f6912d3f4a4155b5c6ea786871de","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxt_low":{"size_in_memory":43832,"size_compressed":26134,"size":43832,"height":256,"width":256,"path":"Encke_Division-dxt-low.dds"},"tex_dxtn":{"size_in_memory":43832,"size_compressed":1436,"size":43832,"height":256,"width":256,"path":"Encke_Division-dxtn.dds"},"tex":{"size_in_memory":262144,"size_compressed":11563,"size":11563,"height":256,"width":256,"path":"Encke_Division-tex.jpg"},"tex_low":{"size_in_memory":262144,"size_compressed":11563,"size":11563,"height":256,"width":256,"path":"Encke_Division-low.jpg"},"tex_dxtn_low":{"size_in_memory":43832,"size_compressed":1440,"size":43832,"height":256,"width":256,"path":"Encke_Division-dxtn-low.dds"},"tex_dxt":{"size_in_memory":43832,"size_compressed":26130,"size":43832,"height":256,"width":256,"path":"Encke_Division-dxt.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528faa9020a91002000000c4","v":46,"parentId":"528faa9020a91002000000c3","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"camera","name":"EnckeCamera","rootFolder":"525c57c6e7c503020000034a","payload":{"components":{},"type":"PerspectiveCamera","scale":{"x":1,"y":1,"z":1},"fov":58.17,"aspect":1.7777777777777777,"near":0.5,"far":20000,"left":-100,"right":100,"top":100,"bottom":-100,"position":{"x":-21.03078954116089,"y":0.4581665671755494,"z":29.196739210014325},"orientation":{"x":-0.06153999598396286,"y":-0.9160754587319072,"z":-0.15449670761109435,"w":0.36489632287521745}},"state":"PROCESSED","children":{}},{"id":"528fa63f59d67ba81d000070","v":1,"parentAssetId":"528fa63f59d67ba81d000070","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Saturn_A_ring_spiral_density_waves","rootFolder":"525c57c6e7c503020000034a","folder":"a7bb8feed293351776ef5b9633c5e34b","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxt":{"size_in_memory":699192,"size_compressed":448229,"size":699192,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-dxt.dds"},"tex_dxt_low":{"size_in_memory":699192,"size_compressed":448233,"size":699192,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-dxt-low.dds"},"tex":{"size_in_memory":4194304,"size_compressed":227464,"size":227464,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-tex.jpg"},"tex_low":{"size_in_memory":4194304,"size_compressed":227464,"size":227464,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-low.jpg"},"tex_dxtn_low":{"size_in_memory":699192,"size_compressed":1514,"size":699192,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-dxtn-low.dds"},"tex_dxtn":{"size_in_memory":699192,"size_compressed":1510,"size":699192,"height":1024,"width":1024,"path":"Saturn_A_ring_spiral_density_waves-dxtn.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528d6e04fd3a300200000373","prefabInstanceId":"528d6e04fd3a300200000373","v":16,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"SaturnsRingsApp","rootFolder":"525c57c6e7c503020000034a","payload":{"geometry":{},"scale":{"x":1,"y":1,"z":1},"components":{"baff19ad-b590-4c62-9730-1d7c8293d6be":{"scriptId":"528d6aa6fd3a300200000359","componentData":{"presentations":["528eb18ab7c7e102000005df","528d76eb45ec6e02000003f3","528faa9020a91002000000c3","528fab2eaebabd020000009e"],"camera":"525c57c6e7c503020000034e"}}}},"state":"PROCESSED","children":{}},{"id":"528fda4e59d67ba81d000181","v":2,"parentAssetId":"528fda4e59d67ba81d000181","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Encke Gap and Ringlet","rootFolder":"525c57c6e7c503020000034a","folder":"27b3a8d520c64fd28d0ec0abb6f259cf","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":2097152,"size_compressed":108929,"size":108929,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-low.jpg"},"tex":{"size_in_memory":2097152,"size_compressed":108929,"size":108929,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-tex.jpg"},"tex_dxt_low":{"size_in_memory":349672,"size_compressed":78908,"size":349672,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-dxt-low.dds"},"tex_dxt":{"size_in_memory":349672,"size_compressed":78904,"size":349672,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-dxt.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":34800,"size":349672,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-dxtn-low.dds"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":34796,"size":349672,"height":512,"width":1024,"path":"Encke+Gap+and+Ringlet-dxtn.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"5267d276bb9719020000000d","v":218,"parentAssetId":"5267d276bb9719020000000d","projectId":"525c57c6e7c503020000034a","type":"script","name":"OrbitRenderer","rootFolder":"525c57c6e7c503020000034a","payload":{"attributes":{"numSegments":{"type":"i","min":5,"max":200,"default":20,"description":""}},"minified":"(function(e,t){var i=e(\"underscore\");function r(){this.orbitMeshes=[];this.orbitMaterials=[];this.objectPosition=new t.Vector3;this.objectVelocity=new t.Vector3;this.orbitParams=new t.Vector3;this.orbitColours=[new t.Color(3482901),new t.Color(16711680),new t.Color(65280)];this.maxOrbitsPerMesh=65}r.prototype=new VAPI.VeroldComponent;r.prototype.init=function(){window.verold.veroldEvents.on(\"setOrbitRenderParams\",this.setRenderParams,this)};r.prototype.unloadOrbitGeometry=function(){i.each(this.orbitMeshes,function(e){e.parent.remove(e);e.geometry.dispose()},this);i.each(this.orbitMaterials,function(e){i.each(e.uniforms,function(e){e.value=null},this);e.dispose()},this);this.orbitMeshes=[];this.orbitMaterials=[]};r.prototype.initializeBodies=function(e,t){this.initOrbitMesh(e.length+t.length,t.length);this.initOrbitMaterial(e,t)};r.prototype.setRenderParams=function(e,t,r){i.each(this.orbitMaterials,function(i){i.uniforms.eccDimFactor.value=e;i.uniforms.eccOffset.value=t;i.uniforms.eccColour.value.setHex(r)},this)};r.prototype.initOrbitMesh=function(e,r){this.orbitMeshes=[];for(var o=0;o<Math.ceil(e/this.maxOrbitsPerMesh);o++){var s=new t.BufferGeometry;s.attributes={position:{itemSize:3,array:new Float32Array(this.numSegments*6*this.maxOrbitsPerMesh)}};var n=s.attributes.position.array;var a,l,h;for(a=0;a<this.maxOrbitsPerMesh;a++){for(l=0;l<this.numSegments;l++){if(l===this.numSegments-1){n[a*this.numSegments*6+l*6+3]=a;n[a*this.numSegments*6+l*6+4]=0;n[a*this.numSegments*6+l*6+5]=0}else{n[a*this.numSegments*6+l*6+3]=a;n[a*this.numSegments*6+l*6+4]=l+1;n[a*this.numSegments*6+l*6+5]=0}n[a*this.numSegments*6+l*6]=a;n[a*this.numSegments*6+l*6+1]=l;n[a*this.numSegments*6+l*6+2]=0}}if(o===Math.ceil(e/this.maxOrbitsPerMesh)-1){var c=e%this.maxOrbitsPerMesh-r;if(this.maxOrbitsPerMesh-c>=r){var m=0;for(h=c;m<r;h++){m++;for(l=0;l<this.numSegments;l++){n[h*this.numSegments*6+l*6+5]=m;n[h*this.numSegments*6+l*6+2]=m}}}else{console.error(\"We need to handle the case that planets are split between line meshes.\")}}var u=new t.Line(s);u.type=t.LinePieces;u.scale.multiplyScalar(4e4);u.dynamic=false;this.orbitMeshes.push(u)}i.each(this.orbitMeshes,function(e,t){this.veroldObject.threeData.add(e)},this)};r.prototype.initOrbitMaterial=function(e,i){var r=[\"uniform vec3 orbitParams[ \"+this.maxOrbitsPerMesh+\"];\",\"uniform vec3 objectVelocity[ \"+this.maxOrbitsPerMesh+\"];\",\"uniform vec3 objectPosition[ \"+this.maxOrbitsPerMesh+\"];\",\"uniform vec3 orbitColour[ \"+i.length+1+\"];\",\"uniform vec3 eccColour;\",\"uniform float angleIncrement;\",\"uniform float eccDimFactor;\",\"uniform float eccOffset;\",\"varying vec3 vOrbitColour;\",\"void main() {\",\"int index = int( position.x );\",\"float mag_r = length( objectPosition[ index ] );\",\"vec3 unit_r = objectPosition[ index ] / mag_r;\",\"vec3 unit_v = normalize( objectVelocity[ index ] );\",\"float cosY = dot( unit_r, unit_v);\",\"float a = orbitParams[ index ].x;\",\"float e = orbitParams[ index ].y;\",\"float temp = (a - a * e * e);\",\"float trueAnomaly = acos( clamp(temp / (mag_r * e) - ( 1.0 / e), -1.0, 1.0) );\",\"float fAngle = position.y * angleIncrement;\",\"float f;\",\"if (cosY > 0.0)\",\"{\",\"f = fAngle + trueAnomaly;\",\"}\",\"else\",\"{\",\"f = fAngle - trueAnomaly;\",\"}\",\"int colourIndex = int( position.z );\",\"vOrbitColour = orbitColour[colourIndex];\",\"if ( colourIndex == 0 ) {\",\"vOrbitColour = mix( vOrbitColour, eccColour, eccDimFactor * abs( eccOffset - e));\",\"}\",\"vec3 newDirection = vec3( unit_r.x * cos( fAngle ) - unit_r.y * sin( fAngle ), 0.0, unit_r.x * sin( fAngle ) + unit_r.y * cos( fAngle ));\",\"float r = temp / (e * cos( f ) + 1.0 );\",\"vec3 newPosition = newDirection * r;\",\"gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition.xyz, 1.0 );\",\"}\"].join(\"\\n\");var o=[\"varying vec3 vOrbitColour;\",\"void main() {\",\"gl_FragColor = vec4( vOrbitColour, 1.0 );\",\"}\"].join(\"\\n\");for(var s=0;s<this.orbitMeshes.length;s++){this.orbitMaterials.push(new t.ShaderMaterial({uniforms:{orbitParams:{type:\"v3v\",value:new Array(this.maxOrbitsPerMesh)},objectVelocity:{type:\"v3v\",value:new Array(this.maxOrbitsPerMesh)},objectPosition:{type:\"v3v\",value:new Array(this.maxOrbitsPerMesh)},orbitColour:{type:\"v3v\",value:new Array(i.length+1)},angleIncrement:{type:\"f\",value:2*Math.PI/this.numSegments},eccDimFactor:{type:\"f\",value:0},eccOffset:{type:\"f\",value:0},eccColour:{type:\"c\",value:new t.Color}},vertexShader:r,fragmentShader:o,depthTest:true,depthWrite:false,transparent:true,blending:t.AdditiveBlending}));var n=this.orbitMaterials[s].uniforms.orbitColour.value;for(var a=0;a<n.length;a++){var l=a%this.orbitColours.length;n[a]=new t.Vector3;n[a].x=this.orbitColours[l].r;n[a].y=this.orbitColours[l].g;n[a].z=this.orbitColours[l].b}this.orbitMeshes[s].material=this.orbitMaterials[s];var h;for(var c=0;c<this.maxOrbitsPerMesh;c++){if(s*this.maxOrbitsPerMesh+c>=e.length){h=i;if(s*this.maxOrbitsPerMesh+c>=e.length+i.length){this.orbitMaterials[s].uniforms.orbitParams.value[c]=new t.Vector3;this.orbitMaterials[s].uniforms.objectPosition.value[c]=new t.Vector3;this.orbitMaterials[s].uniforms.objectVelocity.value[c]=new t.Vector3}else{var m=s*this.maxOrbitsPerMesh+c-e.length;this.orbitMaterials[s].uniforms.orbitParams.value[c]=h[m].orbitParams;this.orbitMaterials[s].uniforms.objectPosition.value[c]=h[m].objectPosition;this.orbitMaterials[s].uniforms.objectVelocity.value[c]=h[m].objectVelocity}}else{h=e;this.orbitMaterials[s].uniforms.orbitParams.value[c]=h[s*this.maxOrbitsPerMesh+c].orbitParams;this.orbitMaterials[s].uniforms.objectPosition.value[c]=h[s*this.maxOrbitsPerMesh+c].objectPosition;this.orbitMaterials[s].uniforms.objectVelocity.value[c]=h[s*this.maxOrbitsPerMesh+c].objectVelocity}}}};r.prototype.shutdown=function(){};return r});","script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\nvar _ = require('underscore');\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n  this.orbitMeshes = [];\n  this.orbitMaterials = [];\n  this.objectPosition = new THREE.Vector3();\n  this.objectVelocity = new THREE.Vector3();\n  this.orbitParams = new THREE.Vector3();\n  this.orbitColours = [ new THREE.Color( 0x352515 ), new THREE.Color( 0xff0000 ), new THREE.Color( 0x00ff00 )];\n  this.maxOrbitsPerMesh = 65;\n  \n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.init = function() {\n  window.verold.veroldEvents.on(\"setOrbitRenderParams\", this.setRenderParams, this );\n};\n\nComponent.prototype.unloadOrbitGeometry = function() {\n  \n  _.each( this.orbitMeshes, function( mesh ) {\n    mesh.parent.remove( mesh );\n    mesh.geometry.dispose();\n  }, this );\n  \n  _.each( this.orbitMaterials, function( material ) {\n    _.each( material.uniforms, function( uni ) {\n      uni.value = null;\n    }, this );\n    material.dispose();\n    \n  }, this );\n  this.orbitMeshes = [];\n  this.orbitMaterials = [];\n};\n\n\nComponent.prototype.initializeBodies = function( tpOrbitData, plOrbitData ) {\n  //Create the geometry for the orbit\n  this.initOrbitMesh( tpOrbitData.length + plOrbitData.length, plOrbitData.length );\n  //Create the shader that will render the orbit\n  this.initOrbitMaterial( tpOrbitData, plOrbitData );\n};\n\nComponent.prototype.setRenderParams = function( eccDimFactor, eccOffset, eccColour ) {\n  _.each( this.orbitMaterials, function( material ) {\n    material.uniforms.eccDimFactor.value = eccDimFactor;\n    material.uniforms.eccOffset.value = eccOffset;\n    material.uniforms.eccColour.value.setHex( eccColour );\n  }, this );\n};\n\nComponent.prototype.initOrbitMesh = function( numBodies, numPlanets ) {\n  \n  this.orbitMeshes = [];\n  for ( var i = 0; i < Math.ceil( numBodies / this.maxOrbitsPerMesh ); i++ ) {\n    var geometry = new THREE.BufferGeometry();\n    \n    geometry.attributes = {\n      position: {\n        itemSize: 3,\n        array: new Float32Array(this.numSegments * 6 * this.maxOrbitsPerMesh )\n      }\n    };\n    var positions = geometry.attributes.position.array;\n\n    //Positions are generated in shader but we need to define a position attribute\n    //in Three.JS so we'll stuff the orbit number, the segment number and the body\n    //type. 0 == TP, 1 == PL1, 2 == PL2, etc.\n    var b, s, p;\n    for ( b = 0; b < this.maxOrbitsPerMesh; b ++ ) {\n      for ( s = 0; s < this.numSegments; s ++ ) {\n        \n        if ( s === this.numSegments - 1 ) {\n          positions[ b * this.numSegments * 6 + s * 6 + 3 ] = b;\n          positions[ b * this.numSegments * 6 + s * 6 + 4 ] = 0;\n          positions[ b * this.numSegments * 6 + s * 6 + 5 ] = 0;\n        }\n        else {\n          positions[ b * this.numSegments * 6 + s * 6 + 3 ] = b;\n          positions[ b * this.numSegments * 6 + s * 6 + 4 ] = s + 1;\n          positions[ b * this.numSegments * 6 + s * 6 + 5 ] = 0;\n        }\n        positions[ b * this.numSegments * 6 + s * 6] = b;\n        positions[ b * this.numSegments * 6 + s * 6 + 1 ] = s;\n        positions[ b * this.numSegments * 6 + s * 6 + 2 ] = 0;\n      }\n    }\n    \n    //geometry.computeBoundingSphere();\n    \n    if ( i === Math.ceil( numBodies / this.maxOrbitsPerMesh ) - 1) {\n      var firstPlanetIndex = numBodies % this.maxOrbitsPerMesh - numPlanets;\n      if ( this.maxOrbitsPerMesh - firstPlanetIndex >= numPlanets ) {\n        var plCount = 0;\n        for ( p = firstPlanetIndex; plCount < numPlanets; p++ ) {\n          plCount++;\n          for ( s = 0; s < this.numSegments; s ++ ) {\n            positions[ p * this.numSegments * 6 + s * 6 + 5 ] = plCount;\n            positions[ p * this.numSegments * 6 + s * 6 + 2 ] = plCount;\n          }\n        }\n      }\n      else {\n        console.error(\"We need to handle the case that planets are split between line meshes.\");\n      }\n    }\n           \n    var orbitMesh = new THREE.Line( geometry );\n    orbitMesh.type = THREE.LinePieces;\n    orbitMesh.scale.multiplyScalar( 40000 );\n    orbitMesh.dynamic = false;\n    this.orbitMeshes.push( orbitMesh );\n  }\n  \n  //var scene = this.veroldObject.getParentAsset();\n  _.each( this.orbitMeshes, function( mesh, index ) {\n    this.veroldObject.threeData.add( mesh );\n  }, this );\n};\n\nComponent.prototype.initOrbitMaterial = function( tpOrbitData, plOrbitData ) {\n  \n  var orbit_vs = [\n    \"uniform vec3 orbitParams[ \" + this.maxOrbitsPerMesh + \"];\",\n    \"uniform vec3 objectVelocity[ \" + this.maxOrbitsPerMesh + \"];\",\n    \"uniform vec3 objectPosition[ \" + this.maxOrbitsPerMesh + \"];\",\n    \"uniform vec3 orbitColour[ \" + plOrbitData.length + 1 + \"];\",\n    \"uniform vec3 eccColour;\",\n    \"uniform float angleIncrement;\",\n    \"uniform float eccDimFactor;\",\n    \"uniform float eccOffset;\",\n    \"varying vec3 vOrbitColour;\",\n    \n    \"void main() {\",\n    \n      \"int index = int( position.x );\",\n      \"float mag_r = length( objectPosition[ index ] );\",\n      \"vec3 unit_r = objectPosition[ index ] / mag_r;\",\n      \"vec3 unit_v = normalize( objectVelocity[ index ] );\",\n      \"float cosY = dot( unit_r, unit_v);\",\n      \"float a = orbitParams[ index ].x;\",\n      \"float e = orbitParams[ index ].y;\",\n      //\"float mag_p = a * ( 1.0 - e );\",\n      //\"float mag_ap = a * ( 1.0 + e );\",\n      //From equation 4.43 of http://www.braeunig.us/space/orbmech.htm\n      //Note that when e is close to zero, this equation kind of breaks down so\n      //we need a new way to calculate the true anomaly\n      \"float temp = (a - a * e * e);\",\n      \"float trueAnomaly = acos( clamp(temp / (mag_r * e) - ( 1.0 / e), -1.0, 1.0) );\",\n      //\"vec3 p_unit;\",\n      //fAngle is the angle of this particular piece of the ellipse (relative to periapsis)\n      //the true anomaly is the position of the TP where the data was recorded at\n      \"float fAngle = position.y * angleIncrement;\",\n      \"float f;\",\n      \"if (cosY > 0.0)\",\n\t\t\t\"{\",\n\t\t\t\t\"f = fAngle + trueAnomaly;\",\n\t\t\t\"}\",\n\t\t\t\"else\",\n\t\t\t\"{\",\n\t\t\t\t\"f = fAngle - trueAnomaly;\",\n\t\t\t\"}\",\n      //\"vOrbitData.x = e;\",\n      \"int colourIndex = int( position.z );\",\n      \n      \"vOrbitColour = orbitColour[colourIndex];\",\n      \"if ( colourIndex == 0 ) {\",\n        //\"vOrbitColour -= eccDimFactor * abs( eccOffset - e);\",\n          \"vOrbitColour = mix( vOrbitColour, eccColour, eccDimFactor * abs( eccOffset - e));\",\n      \"}\",\n      \n      //rotate r_unit by fAngle\n      \"vec3 newDirection = vec3( unit_r.x * cos( fAngle ) - unit_r.y * sin( fAngle ), 0.0, unit_r.x * sin( fAngle ) + unit_r.y * cos( fAngle ));\",\n      \n      //Find r at new direction (again, using equation 4.43 )\n      \"float r = temp / (e * cos( f ) + 1.0 );\",\n      \"vec3 newPosition = newDirection * r;\",\n      \"gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition.xyz, 1.0 );\",\n    \n    \"}\"\n  ].join(\"\\n\");\n\n  var orbit_fs = [\n\n    \n    \"varying vec3 vOrbitColour;\",\n    \n    \"void main() {\",\n    \n      //\"vec3 colour = vOrbitColour;\",\n    //\"colour -= 1000.0 * abs(0.00178 - vOrbitData.x);\",\n      \"gl_FragColor = vec4( vOrbitColour, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\");\n  \n  \n  for ( var i = 0; i < this.orbitMeshes.length; i++ ) {\n    \n    this.orbitMaterials.push( new THREE.ShaderMaterial( {\n  \n      uniforms: {\n  \n        \"orbitParams\": { type: \"v3v\", value: new Array( this.maxOrbitsPerMesh ) },\n        \"objectVelocity\": { type: \"v3v\", value: new Array( this.maxOrbitsPerMesh ) },\n        \"objectPosition\": { type: \"v3v\", value: new Array( this.maxOrbitsPerMesh ) },\n        \"orbitColour\": { type: \"v3v\", value: new Array( plOrbitData.length + 1 ) },\n        \"angleIncrement\": { type: \"f\", value: 2.0 * Math.PI / this.numSegments },\n        \"eccDimFactor\" : { type: \"f\", value: 0 },\n        \"eccOffset\" : { type: \"f\", value: 0 },\n        \"eccColour\" : { type: \"c\", value: new THREE.Color()}\n      },\n      vertexShader: orbit_vs,\n      fragmentShader: orbit_fs,\n      depthTest: true,\n      depthWrite: false,\n      transparent: true,\n      blending: THREE.AdditiveBlending\n    }));\n    \n    var colourUniforms = this.orbitMaterials[ i ].uniforms.orbitColour.value;\n    for ( var c = 0; c < colourUniforms.length; c++ ) {\n      var index = c % this.orbitColours.length;\n      colourUniforms[ c ] = new THREE.Vector3();\n      colourUniforms[ c ].x = this.orbitColours[ index ].r;\n      colourUniforms[ c ].y = this.orbitColours[ index ].g;\n      colourUniforms[ c ].z = this.orbitColours[ index ].b;\n    }\n    \n    this.orbitMeshes[ i ].material = this.orbitMaterials[ i ];\n    \n    //link up uniform data to the data that will be updated by the animator every frame\n    var orbitData;\n    for ( var tp = 0; tp < this.maxOrbitsPerMesh; tp++ ){\n      if ( i * this.maxOrbitsPerMesh + tp >= tpOrbitData.length ) {\n        orbitData = plOrbitData;\n        \n        if ( i * this.maxOrbitsPerMesh + tp >= tpOrbitData.length + plOrbitData.length ) {\n          this.orbitMaterials[ i ].uniforms.orbitParams.value[ tp ] = new THREE.Vector3();\n          this.orbitMaterials[ i ].uniforms.objectPosition.value[ tp ] = new THREE.Vector3();\n          this.orbitMaterials[ i ].uniforms.objectVelocity.value[ tp ] = new THREE.Vector3();\n        }\n        else {\n          var pl = i * this.maxOrbitsPerMesh + tp - tpOrbitData.length;\n          this.orbitMaterials[ i ].uniforms.orbitParams.value[ tp ] = orbitData[ pl ].orbitParams;\n          this.orbitMaterials[ i ].uniforms.objectPosition.value[ tp ] = orbitData[ pl ].objectPosition;\n          this.orbitMaterials[ i ].uniforms.objectVelocity.value[ tp ] = orbitData[ pl ].objectVelocity;\n        }\n      }\n      else {\n        orbitData = tpOrbitData;\n        this.orbitMaterials[ i ].uniforms.orbitParams.value[ tp ] = orbitData[ i * this.maxOrbitsPerMesh + tp ].orbitParams;\n        this.orbitMaterials[ i ].uniforms.objectPosition.value[ tp ] = orbitData[ i * this.maxOrbitsPerMesh + tp ].objectPosition;\n        this.orbitMaterials[ i ].uniforms.objectVelocity.value[ tp ] = orbitData[ i * this.maxOrbitsPerMesh + tp ].objectVelocity;\n      }\n    }\n  }\n\n  \n};\n\n\n// Component.prototype.setOrbitData = function( data ) {\n//   this.orbitMaterial.uniforms.objectPosition.value = data.objectPosition;\n//   this.orbitMaterial.uniforms.objectVelocity.value = data.objectVelocity;\n//   this.orbitMaterial.uniforms.orbitParams.value = data.orbitParams;\n  \n// };\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n"},"state":"PROCESSED","children":{}},{"id":"528fab2eaebabd020000009e","prefabInstanceId":"528fab2eaebabd020000009e","v":36,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"ResonancePresentation","rootFolder":"525c57c6e7c503020000034a","payload":{"components":{"d3d4ee4f-fbd6-4bc0-9cb2-48981ea1f544":{"componentData":{"stopRotation":false,"eccDimFactor":20000,"eccOffset":0.001782,"eccColour":16711935,"animationName":"Resonances2","cssInfoElement":"#ResonancesInformation","cssElement":"#MimasTrigger","viewPoint":"528fab2eaebabd020000009f","ccsInfoElement":"#MimasInformation","rotationDelay":2},"scriptId":"528d739555970802000003e9"}},"scale":{"z":1,"y":1,"x":1},"position":{"z":0,"y":0,"x":0}},"state":"PROCESSED","children":{"528fab2eaebabd020000009f":true}},{"id":"5290c7d220cd854704000153","v":1,"parentAssetId":"5290c7d220cd854704000153","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"P&PResonances;","rootFolder":"525c57c6e7c503020000034a","folder":"117a51d0c688e0ab4088b13980cbd63d","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxt":{"size_in_memory":174904,"size_compressed":109376,"size":174904,"height":512,"width":512,"path":"P+PResonances-dxt.dds"},"tex_dxt_low":{"size_in_memory":174904,"size_compressed":109380,"size":174904,"height":512,"width":512,"path":"P+PResonances-dxt-low.dds"},"tex_low":{"size_in_memory":1048576,"size_compressed":69730,"size":69730,"height":512,"width":512,"path":"P+PResonances-low.jpg"},"tex_dxtn":{"size_in_memory":174904,"size_compressed":1807,"size":174904,"height":512,"width":512,"path":"P+PResonances-dxtn.dds"},"tex_dxtn_low":{"size_in_memory":174904,"size_compressed":1811,"size":174904,"height":512,"width":512,"path":"P+PResonances-dxtn-low.dds"},"tex":{"size_in_memory":1048576,"size_compressed":69730,"size":69730,"height":512,"width":512,"path":"P+PResonances-tex.jpg"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"5290c91020cd854704000154","v":1,"parentAssetId":"5290c91020cd854704000154","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"P&PResonances2;","rootFolder":"525c57c6e7c503020000034a","folder":"f94f91f10289f08ec96bc269abadba5f","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":262144,"size_compressed":27032,"size":27032,"height":256,"width":256,"path":"P+PResonances2-low.jpg"},"tex":{"size_in_memory":262144,"size_compressed":27032,"size":27032,"height":256,"width":256,"path":"P+PResonances2-tex.jpg"},"tex_dxt":{"size_in_memory":43832,"size_compressed":25933,"size":43832,"height":256,"width":256,"path":"P+PResonances2-dxt.dds"},"tex_dxtn_low":{"size_in_memory":43832,"size_compressed":717,"size":43832,"height":256,"width":256,"path":"P+PResonances2-dxtn-low.dds"},"tex_dxt_low":{"size_in_memory":43832,"size_compressed":25937,"size":43832,"height":256,"width":256,"path":"P+PResonances2-dxt-low.dds"},"tex_dxtn":{"size_in_memory":43832,"size_compressed":713,"size":43832,"height":256,"width":256,"path":"P+PResonances2-dxtn.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"5290ce6520cd854704000155","v":1,"parentAssetId":"5290ce6520cd854704000155","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Shepherd 150000 years","rootFolder":"525c57c6e7c503020000034a","folder":"f588daf23240d8e39d2b20a66ead685c","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex":{"size_in_memory":2097152,"size_compressed":152548,"size":152548,"height":512,"width":1024,"path":"Shepherd+150000+years-tex.jpg"},"tex_low":{"size_in_memory":2097152,"size_compressed":152548,"size":152548,"height":512,"width":1024,"path":"Shepherd+150000+years-low.jpg"},"tex_dxt_low":{"size_in_memory":349672,"size_compressed":140155,"size":349672,"height":512,"width":1024,"path":"Shepherd+150000+years-dxt-low.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":43623,"size":349672,"height":512,"width":1024,"path":"Shepherd+150000+years-dxtn-low.dds"},"tex_dxt":{"size_in_memory":349672,"size_compressed":140151,"size":349672,"height":512,"width":1024,"path":"Shepherd+150000+years-dxt.dds"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":43619,"size":349672,"height":512,"width":1024,"path":"Shepherd+150000+years-dxtn.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528d80a1559708020000040d","v":3,"parentAssetId":"528d80a1559708020000040d","projectId":"525c57c6e7c503020000034a","type":"script","name":"Rotate","rootFolder":"525c57c6e7c503020000034a","payload":{"description":"Simple script which rotates an object by the specified angle delta.","attributes":{"delta":{"type":"v3","default":{"x":0.5,"y":1,"z":-0.1},"description":"the angle delta per second in radians"}},"script":"/* global VAPI */\nvar tmpVec = new THREE.Vector3(),\n    tmpEuler = new THREE.Euler();\n\nfunction Rotate() {}\n\nRotate.prototype = new VAPI.VeroldComponent();\n\nRotate.prototype.objectCreated = function() {\n  window.verold.veroldEvents.on(\"stopRotation\", this.stop, this );\n  window.verold.veroldEvents.on(\"startRotation\", this.start, this );\n  window.verold.veroldEvents.on(\"setRotation\", this.setRotation, this );\n  this.active = true;\n  this.delta = new THREE.Vector3(this.delta.x, this.delta.y, this.delta.z);\n  this.angle = this.delta.clone();\n  this.angle.applyQuaternion(this.getThreeData().quaternion);\n};\n\nRotate.prototype.update = function(delta) {\n  if (this.getThreeData() && this.active ) {\n    tmpVec.copy(this.delta).multiplyScalar(delta);\n    this.angle.add(tmpVec);\n    tmpEuler.set(this.angle.x, this.angle.y, this.angle.z);\n    this.getThreeData().quaternion.setFromEuler(tmpEuler);\n  }\n};\n\nRotate.prototype.stop = function() {\n  this.active = false;\n};\n\nRotate.prototype.start = function() {\n  this.active = true;\n};\n\nRotate.prototype.setRotation = function( euler ) {\n  tmpEuler.set( euler.x, euler.y, euler.z);\n  this.getThreeData().quaternion.setFromEuler(tmpEuler);\n};\n\nreturn Rotate;\n","minified":"(function(t,e){var o=new e.Vector3,i=new e.Euler;function n(){}n.prototype=new VAPI.VeroldComponent;n.prototype.objectCreated=function(){window.verold.veroldEvents.on(\"stopRotation\",this.stop,this);window.verold.veroldEvents.on(\"startRotation\",this.start,this);window.verold.veroldEvents.on(\"setRotation\",this.setRotation,this);this.active=true;this.delta=new e.Vector3(this.delta.x,this.delta.y,this.delta.z);this.angle=this.delta.clone();this.angle.applyQuaternion(this.getThreeData().quaternion)};n.prototype.update=function(t){if(this.getThreeData()&&this.active){o.copy(this.delta).multiplyScalar(t);this.angle.add(o);i.set(this.angle.x,this.angle.y,this.angle.z);this.getThreeData().quaternion.setFromEuler(i)}};n.prototype.stop=function(){this.active=false};n.prototype.start=function(){this.active=true};n.prototype.setRotation=function(t){i.set(t.x,t.y,t.z);this.getThreeData().quaternion.setFromEuler(i)};return n});"},"state":"PROCESSED","template":false,"children":{}},{"id":"528d739555970802000003e9","v":387,"parentAssetId":"528d739555970802000003e9","projectId":"525c57c6e7c503020000034a","type":"script","name":"ResultsPresentation","rootFolder":"525c57c6e7c503020000034a","payload":{"script":"/**\n *\n * Component\n *\n * All scripts will have access to the following variables in their scope:\n *\n *   VAPI - the Verold API\n *   require - requirejs\n *   THREE - THREE.JS\n *\n * All objects will have the following properties assigned to them:\n *\n *   this.veroldObject - the verold object which this component is attached to\n *   this.events - global event system\n *\n * All of your component attributes will automatically be bound to your object,\n * you can access them via this.[attribute name].\n *\n * If you wish to have access to common javascript libraries such as jQuery or\n * Underscore, you can use the ones we provide via:\n *\n * var _ = require('underscore');\n * var $ = require('jquery');\n *\n * Alternatively, you can load in your own versions of these dependencies by\n * adding them as external dependencies on your developers tab.\n *\n * Additional information regarding the Verold API can be found in our API docs:\n *\n *  http://dev.verold.com/doc/\n */\n\n/* global VAPI */\n\n/**\n * A custom component class.\n *\n * @class Component\n */\nfunction Component() {\n}\n\nComponent.prototype = new VAPI.VeroldComponent();\n\n/**\n * Called immediately after after component creation\n */\nComponent.prototype.init = function() {\n  //this.getEngine().on(\"mouseDown\", this.end, this );\n  \n};\n\n/**\n * Called once the data is available is available\n */\nComponent.prototype.objectCreated = function() {\n  // this.veroldObject.threeData is available\n};\n\nComponent.prototype.start = function( camera, callback ) {\n  \n  function onReady() {\n    //Fade rings\n    \n    //play animation\n    window.verold.veroldEvents.trigger(\"parseAnimation\", function() {\n      window.verold.veroldEvents.trigger(\"fadeRings\", 1, 0.4 );\n      $('#time').fadeIn( 200 );\n      if ( that.stopRotation ) {\n        window.verold.veroldEvents.trigger(\"stopRotation\" );\n        window.verold.veroldEvents.trigger(\"setRotation\", that.rotationValues );\n      }\n      window.verold.veroldEvents.trigger(\"playAnimation\");\n      window.verold.veroldEvents.trigger(\"setOrbitRenderParams\", that.eccDimFactor, that.eccOffset, that.eccColour );\n    });\n  }\n  var that = this;\n  this.finishedCallback = callback;\n  var readyCheck = false;\n  //Start the animation data loading and the initial camera tween.\n  //When both are finished, run the animation\n  if ( this.viewPoint && this.animationName ) {\n    window.verold.veroldEvents.trigger(\"loadAnimation\", this.animationName, function() {\n      if ( readyCheck ) {\n        onReady();\n      }\n      else {\n        readyCheck = true;\n      }\n    });\n    var toPosition = that.viewPoint.threeData.position;\n    var toQuaternion = that.viewPoint.threeData.quaternion;\n    that._tweenObjectTo( camera.threeData, toPosition, toQuaternion, this.animationTime, this.rotationDelay, true, true, function() {\n      \n      //display information\n      $(that.cssInfoElement).fadeIn(200);\n      $('#BackButton').fadeIn(200);\n      that.onBackButtonBinding = $.proxy(that.end, that);\n      $('#BackButton').on( \"click\", that.onBackButtonBinding );\n      \n      if ( readyCheck ) {\n        onReady();\n      }\n      else {\n        readyCheck = true;\n      }\n    } );\n  }\n};\n\nComponent.prototype.end = function( e ) {\n  e.preventDefault();\n  $('#BackButton').off( \"click\", this.onBackButtonBinding );\n  //Stop animation\n  window.verold.veroldEvents.trigger(\"stopAnimation\");\n  if ( this.stopRotation ) {\n    window.verold.veroldEvents.trigger(\"startRotation\" );\n  }\n  //Hide information\n  $(this.cssInfoElement).fadeOut(200);\n  $('#time').fadeOut( 200 );\n  window.verold.veroldEvents.trigger(\"fadeRings\", 2, 1.0 );\n  $('#BackButton').fadeOut(200);\n  //Fade rings back in\n  //Return to default view\n  if ( this.finishedCallback ) {\n    this.finishedCallback();\n  }\n};\n\n/**\n * Called per VeroldEngine update (per frame)\n * @param  {float} delta The number of seconds since the last call to `update`\n */\nComponent.prototype.update = function(delta) {\n  var threeData;\n  // since update is called before threeData is present, you should always\n  // check for its presence before making use of it\n  if (this.hasThreeData()) {\n    // It is safe to manipulate threeData now.\n    threeData = this.getThreeData();\n  }\n};\n\nComponent.prototype._tweenObjectTo = function( object, toPosition, toQuaternion, time, quaternionDelay, smoothStart, smoothEnd, callback ) {\n  if ( object && toPosition ) {\n\n    var curTime = 0;\n    var interp = 0;\n    var startPos = new THREE.Vector3();\n    var startQuat;\n    startPos.copy( object.position );\n    if ( toQuaternion ) {\n      startQuat = new THREE.Quaternion();\n      startQuat.copy( object.quaternion );\n    }\n\n    if ( time ) {\n      this.getEngine().on('update', function anim( delta ) {\n        curTime += delta;\n        if ( curTime > time ) {\n          this.getEngine().off('update', anim, this );\n          if (typeof callback === 'function') {\n            callback();\n          }\n        } else {\n          interp = curTime / time;\n          if ( interp < 0.5 && smoothStart || interp > 0.5 && smoothEnd ) {\n            interp = Math.cos( interp * Math.PI + Math.PI ) * 0.5 + 0.5;\n          }\n\n          object.position.copy( startPos );\n          object.position.lerp( toPosition, interp );\n          if ( toQuaternion ) {\n            var interpQuat = interp;\n            if ( quaternionDelay ) {\n              if ( curTime >= quaternionDelay ) {\n                interp = (curTime - quaternionDelay) / (time - quaternionDelay);\n                if ( interp < 0.5 && smoothStart || interp > 0.5 && smoothEnd ) {\n                  interp = Math.cos( interp * Math.PI + Math.PI ) * 0.5 + 0.5;\n                }\n                object.quaternion.copy( startQuat );\n                object.quaternion.slerp( toQuaternion, interp );\n              }\n            }\n            else {\n              object.quaternion.copy( startQuat );\n              object.quaternion.slerp( toQuaternion, interp );\n            }\n            \n          }\n        }\n      }, this );\n    } else {\n      object.position.copy( toPosition );\n      if ( toQuaternion ) {\n        object.quaternion.copy( toQuaternion );\n      }\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }\n};\n\n/**\n * Called when a verold object is destroyed or this component is removed\n * from a verold object.\n */\nComponent.prototype.shutdown = function() {\n  // make sure to clean up any events or other bindings that you have created\n  // to avoid memory leaks\n};\n\n// =========================================================\n// Life Cycle Events\n// =========================================================\n// init() - component was created\n// shutdown() - called on component destroy\n//\n// preUpdate(delta) - earlier version of update\n// update(delta) - main update\n// postUpdate(delta) - later version of update\n// preRender(delta) - earlier version of render\n// render(delta) - called just before the renderer updates\n// postRender(delta) - later version of render\n//\n// suspend() - called when application loses focus\n// resume() - called when application regains focus\n//\n// objectCreated() - called when the object's data is available\n// objectLoaded() - called when the object is completely loaded,\n//                  including it's children\n// sceneLoaded() - called when the scene is fully loaded\n\nreturn Component;\n","minified":"(function(t,e){function o(){}o.prototype=new VAPI.VeroldComponent;o.prototype.init=function(){};o.prototype.objectCreated=function(){};o.prototype.start=function(t,e){function o(){window.verold.veroldEvents.trigger(\"parseAnimation\",function(){window.verold.veroldEvents.trigger(\"fadeRings\",1,.4);$(\"#time\").fadeIn(200);if(n.stopRotation){window.verold.veroldEvents.trigger(\"stopRotation\");window.verold.veroldEvents.trigger(\"setRotation\",n.rotationValues)}window.verold.veroldEvents.trigger(\"playAnimation\");window.verold.veroldEvents.trigger(\"setOrbitRenderParams\",n.eccDimFactor,n.eccOffset,n.eccColour)})}var n=this;this.finishedCallback=e;var i=false;if(this.viewPoint&&this.animationName){window.verold.veroldEvents.trigger(\"loadAnimation\",this.animationName,function(){if(i){o()}else{i=true}});var r=n.viewPoint.threeData.position;var a=n.viewPoint.threeData.quaternion;n._tweenObjectTo(t.threeData,r,a,this.animationTime,this.rotationDelay,true,true,function(){$(n.cssInfoElement).fadeIn(200);$(\"#BackButton\").fadeIn(200);n.onBackButtonBinding=$.proxy(n.end,n);$(\"#BackButton\").on(\"click\",n.onBackButtonBinding);if(i){o()}else{i=true}})}};o.prototype.end=function(t){t.preventDefault();$(\"#BackButton\").off(\"click\",this.onBackButtonBinding);window.verold.veroldEvents.trigger(\"stopAnimation\");if(this.stopRotation){window.verold.veroldEvents.trigger(\"startRotation\")}$(this.cssInfoElement).fadeOut(200);$(\"#time\").fadeOut(200);window.verold.veroldEvents.trigger(\"fadeRings\",2,1);$(\"#BackButton\").fadeOut(200);if(this.finishedCallback){this.finishedCallback()}};o.prototype.update=function(t){var e;if(this.hasThreeData()){e=this.getThreeData()}};o.prototype._tweenObjectTo=function(t,o,n,i,r,a,s,f){if(t&&o){var d=0;var c=0;var l=new e.Vector3;var u;l.copy(t.position);if(n){u=new e.Quaternion;u.copy(t.quaternion)}if(i){this.getEngine().on(\"update\",function p(e){d+=e;if(d>i){this.getEngine().off(\"update\",p,this);if(typeof f===\"function\"){f()}}else{c=d/i;if(c<.5&&a||c>.5&&s){c=Math.cos(c*Math.PI+Math.PI)*.5+.5}t.position.copy(l);t.position.lerp(o,c);if(n){var v=c;if(r){if(d>=r){c=(d-r)/(i-r);if(c<.5&&a||c>.5&&s){c=Math.cos(c*Math.PI+Math.PI)*.5+.5}t.quaternion.copy(u);t.quaternion.slerp(n,c)}}else{t.quaternion.copy(u);t.quaternion.slerp(n,c)}}}},this)}else{t.position.copy(o);if(n){t.quaternion.copy(n)}if(typeof f===\"function\"){f()}}}};o.prototype.shutdown=function(){};return o});","attributes":{"eccDimFactor":{"description":"","default":1000,"max":100000,"min":0,"type":"f"},"rotationValues":{"description":"The fixed rotation values of Saturn to use during the animation...","default":{"z":0,"y":11.6,"x":0},"max":{"z":360,"y":360,"x":360},"min":{"z":0,"y":0,"x":0},"type":"v3"},"stopRotation":{"description":"","default":false,"type":"b"},"eccColour":{"description":"","default":0,"type":"c"},"eccOffset":{"description":"","default":0,"max":1,"min":0,"type":"f"},"viewPoint":{"type":"object","description":""},"animationName":{"type":"s","default":"","description":""},"cssInfoElement":{"type":"s","default":"#MimasInformation","description":""},"rotationDelay":{"type":"f","min":0,"max":10,"default":1,"description":""},"animationTime":{"type":"f","min":0,"max":10,"default":5,"description":""}}},"state":"PROCESSED","children":{}},{"id":"5290f3c520cd85470400035f","v":1,"parentAssetId":"5290f3c520cd85470400035f","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"P&PResonancesPlot;","rootFolder":"525c57c6e7c503020000034a","folder":"ecedf5d63edb891813fb9fbb1ecdef36","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":2097152,"size_compressed":37395,"size":37395,"height":512,"width":1024,"path":"P+PResonancesPlot-low.jpg"},"tex":{"size_in_memory":2097152,"size_compressed":37395,"size":37395,"height":512,"width":1024,"path":"P+PResonancesPlot-tex.jpg"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":7099,"size":349672,"height":512,"width":1024,"path":"P+PResonancesPlot-dxtn.dds"},"tex_dxt_low":{"size_in_memory":349672,"size_compressed":20021,"size":349672,"height":512,"width":1024,"path":"P+PResonancesPlot-dxt-low.dds"},"tex_dxt":{"size_in_memory":349672,"size_compressed":20017,"size":349672,"height":512,"width":1024,"path":"P+PResonancesPlot-dxt.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":7103,"size":349672,"height":512,"width":1024,"path":"P+PResonancesPlot-dxtn-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"5290f3f720cd854704000361","v":1,"parentAssetId":"5290f3f720cd854704000361","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"P&P Close Resonances Overlay2","rootFolder":"525c57c6e7c503020000034a","folder":"4634add56326823094f5ff852af8cea5","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxt_low":{"size_in_memory":349672,"size_compressed":180829,"size":349672,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-dxt-low.dds"},"tex_dxt":{"size_in_memory":349672,"size_compressed":180825,"size":349672,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-dxt.dds"},"tex_low":{"size_in_memory":2097152,"size_compressed":132152,"size":132152,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-low.jpg"},"tex":{"size_in_memory":2097152,"size_compressed":132152,"size":132152,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-tex.jpg"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":17539,"size":349672,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-dxtn.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":17543,"size":349672,"height":512,"width":1024,"path":"P+P+Close+Resonances+Overlay2-dxtn-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528d76eb45ec6e02000003f3","prefabInstanceId":"528d76eb45ec6e02000003f3","v":14,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"ShepherdPresentation","rootFolder":"525c57c6e7c503020000034a","payload":{"geometry":{},"scale":{"x":1,"y":1,"z":1},"components":{"d3d4ee4f-fbd6-4bc0-9cb2-48981ea1f544":{"scriptId":"528d739555970802000003e9","componentData":{"eccDimFactor":500,"eccOffset":0.001782,"animationName":"Shepherd 25 Years","cssInfoElement":"#ShepherdInformation","cssElement":"#MimasTrigger","rotationDelay":3,"viewPoint":"528ee4a33b07660200000798"}}}},"state":"PROCESSED","children":{"528ee4a33b07660200000798":true}},{"id":"52910c8b20cd8547040003d4","v":1,"parentAssetId":"52910c8b20cd8547040003d4","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Mimas2-1","rootFolder":"525c57c6e7c503020000034a","folder":"453e0f9ca30d61edd10b779659a874dc","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_dxt_low":{"size_in_memory":349672,"size_compressed":23663,"size":349672,"height":512,"width":1024,"path":"Mimas2-1-dxt-low.dds"},"tex":{"size_in_memory":2097152,"size_compressed":43252,"size":43252,"height":512,"width":1024,"path":"Mimas2-1-tex.jpg"},"tex_dxt":{"size_in_memory":349672,"size_compressed":23659,"size":349672,"height":512,"width":1024,"path":"Mimas2-1-dxt.dds"},"tex_low":{"size_in_memory":2097152,"size_compressed":43252,"size":43252,"height":512,"width":1024,"path":"Mimas2-1-low.jpg"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":7097,"size":349672,"height":512,"width":1024,"path":"Mimas2-1-dxtn-low.dds"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":7093,"size":349672,"height":512,"width":1024,"path":"Mimas2-1-dxtn.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"52910fe220cd8547040003e8","v":1,"parentAssetId":"52910fe220cd8547040003e8","projectId":"525c57c6e7c503020000034a","type":"texture2D","name":"Pan-90 years2","rootFolder":"525c57c6e7c503020000034a","folder":"d512b2b9fb2678ed03d539ae7efb8383","payload":{"generateMipmaps":true,"isNormalMap":false,"preferCompression":false,"flipY":true,"anisotropy":1,"filtering":"Trilinear","vMapping":"Wrap","uMapping":"Wrap","name":"Texture_With_No_Name","tex_low":{"size_in_memory":2097152,"size_compressed":80061,"size":80061,"height":512,"width":1024,"path":"Pan-90+years2-low.jpg"},"tex_dxtn":{"size_in_memory":349672,"size_compressed":8070,"size":349672,"height":512,"width":1024,"path":"Pan-90+years2-dxtn.dds"},"tex":{"size_in_memory":2097152,"size_compressed":80061,"size":80061,"height":512,"width":1024,"path":"Pan-90+years2-tex.jpg"},"tex_dxt":{"size_in_memory":349672,"size_compressed":41785,"size":349672,"height":512,"width":1024,"path":"Pan-90+years2-dxt.dds"},"tex_dxtn_low":{"size_in_memory":349672,"size_compressed":8074,"size":349672,"height":512,"width":1024,"path":"Pan-90+years2-dxtn-low.dds"},"tex_dxt_low":{"size_in_memory":349672,"size_compressed":41789,"size":349672,"height":512,"width":1024,"path":"Pan-90+years2-dxt-low.dds"}},"state":"PROCESSED","hasPreview":true,"children":{}},{"id":"528666037466e30200000948","prefabInstanceId":"528666037466e30200000948","v":7,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"ResonanceCalculator","rootFolder":"525c57c6e7c503020000034a","payload":{"components":{"a4eb4810-9aa1-438d-4fa9-1a0de70609ba":{"componentData":{"Satellite_SMA":0.00095,"Max_Resonance_Num":35},"scriptId":"5286647e7466e3020000092e"}},"scale":{"z":100,"y":100,"x":100},"geometry":{}},"state":"PROCESSED","children":{}},{"id":"528faa9020a91002000000c3","prefabInstanceId":"528faa9020a91002000000c3","v":52,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"EnckePresentation","rootFolder":"525c57c6e7c503020000034a","payload":{"components":{"d3d4ee4f-fbd6-4bc0-9cb2-48981ea1f544":{"componentData":{"rotationValues":{"z":0,"y":2.5,"x":0},"stopRotation":true,"eccDimFactor":0,"eccColour":392192,"eccOffset":0.001782,"cssInfoElement":"#EnckeInformation","cssElement":"#MimasTrigger","ccsInfoElement":"#MimasInformation","animationName":"Encke Gap","viewPoint":"528faa9020a91002000000c4","rotationDelay":2},"scriptId":"528d739555970802000003e9"}},"scale":{"z":1,"y":1,"x":1},"position":{"z":0,"y":0,"x":0}},"state":"PROCESSED","children":{"528faa9020a91002000000c4":true}},{"id":"528c3327cdf5c802000009bc","prefabObjectId":"528c3319af88fd0200000c5d","prefabAssetId":"528c3318cdf5c802000009b9","sourceObjectId":"528c3319af88fd0200000c5d","sourceAssetId":"528c3318cdf5c802000009b9","prefabInstanceId":"528c3327cdf5c802000009bb","v":3,"parentId":"528c3327cdf5c802000009bb","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"mesh","name":"Saturn Mesh","rootFolder":"525c57c6e7c503020000034a","payload":{"static":true,"material":"528c18c7cdf5c802000008e5","center":{"z":0,"y":0,"x":0},"components":{}},"state":"PROCESSED","children":{}},{"id":"528eb18ab7c7e102000005df","prefabInstanceId":"528eb18ab7c7e102000005df","v":30,"parentId":"525c57c6e7c503020000034d","parentAssetId":"525c57c6e7c503020000034d","projectId":"525c57c6e7c503020000034a","type":"node","name":"MimasPresentation","rootFolder":"525c57c6e7c503020000034a","payload":{"components":{"d3d4ee4f-fbd6-4bc0-9cb2-48981ea1f544":{"componentData":{"rotationValues":{"z":0,"y":0,"x":0},"stopRotation":true,"eccDimFactor":500,"eccOffset":0.001782,"eccColour":16711935,"animationName":"Mimas 2:1","cssElement":"#MimasTrigger","viewPoint":"528eb4c63b076602000006e9","ccsInfoElement":"#MimasInformation"},"scriptId":"528d739555970802000003e9"}},"scale":{"z":1,"y":1,"x":1},"position":{"x":0,"y":0,"z":0}},"state":"PROCESSED","children":{"528eb4c63b076602000006e9":true}}]
    };

    function startApplication(VAPI) {
      

      var $ = window.jQuery;
      VAPI.addProjectData(window.verold.application);

      
        VAPI.progress.start();

var SaturnsRingsApp = VAPI.VeroldApp.extend({
  defaultSceneLoaded: function (scene) {
    this.threeScene = scene.threeData;

    var that = this;
    $('#loading').fadeOut( 1200 );
    
    
    $('#verold3d').fadeIn( 1200 );
    this.threeCamera = scene.getObject("525c57c6e7c503020000034e").threeData;
   
    this.veroldEngine.on( "resize", that.resize, that );
    this.resize();

    VAPI.progress.done();
  },

  defaultSceneProgress: function(sceneObj) {
    var loaded = Math.ceil(((sceneObj.loadingProgress.hierarchy + sceneObj.loadingProgress.dependencies) / sceneObj.getDataSize()) * 100) / 100;
    VAPI.progress.set(loaded);
  },

  update: function(delta) {
  },

  render: function(delta) {
    // Call this once per render to reset draw calls, vertices and
    // faces
    //VAPI.resetRenderStats();

    if (this.threeScene && this.threeCamera) {
      var renderer = this.getRenderer();

      renderer.render( this.threeScene, this.threeCamera );

      // Call this after each call to renderer.render to track
      // draw calls, vertices and faces
      //VAPI.addRenderStats(renderer);
    }
  },
  
  resize: function() {
    var renderer = this.veroldEngine.renderController;
    this.threeCamera.aspect = renderer.getWidth() / renderer.getHeight();
    console.log("Resizing");
    this.threeCamera.updateProjectionMatrix();
  }
});

if ( !( function () { try { var canvas = document.createElement( 'canvas' ); return !! window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ); } catch( e ) { return false; } } )() ) {
  if ( window.WebGLRenderingContext ) {
    $('#loading').text( "Sorry, WebGL is not supported by your graphics card." );
  }
  else {
    $('#loading').text( "Sorry, WebGL is not supported by your browser." );
  }
}
else {
  var app = new SaturnsRingsApp({
    el: '#verold3d',
    projectId: '525c57c6e7c503020000034a',
    engineOptions: {
    }
  });
  
  app.run();
}
      
    }
  </script>
  
    <script src="http://assets.verold.com/runtime/verold-runtime-0.5.0.min.js?bust=f545499ca03e"></script>
    <script>
    startApplication(window.VAPI);
    </script>
  
</body>
</html>
